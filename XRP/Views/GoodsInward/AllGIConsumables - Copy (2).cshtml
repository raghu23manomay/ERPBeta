@model XRP.Models.Paged_ssmtbl_VendorPurchaseOrderModel

<style>
    .icon:hover, td:hover {
        cursor: pointer;
    }

    #btnSubmit {
        position: absolute;
        bottom: 10%;
        right: 5%;
    }

    #btnPrintDC {
        position: absolute;
        bottom: 6%;
        right: 3%;
    }

    #btnViewPrint {
        position: absolute;
        bottom: 10%;
        left: 35%;
    }
   
    .btnGenerateWO {
        position: absolute;
        bottom: 10%;
        right: 5%;
    }

    .btnGenerateCuttingSlip {
        position: absolute;
       bottom: 10%;
        left: 10%;
    }

</style>
<link href="~/Content/Validations/jquery-ui.css" rel="stylesheet" />
<div class="panel panel-default">
    @*<div class="panel-heading">
            <div class="col-md-4">
                <a class="nav-link" href='@Url.Action("NewDCJobDispatch", "DeliveryChallan")'><i class="icon icon-list"></i> New Delivery Challan</a>
            </div>
        </div>*@
    <header class="blue accent-3 relative">
        <div class="container-fluid text-white">
            @*<div class="row p-t-b-10 ">
                <div class="col">*@
            @*<h4>
                    <i class="icon-database"></i>
                    Delivery Challans
                </h4>*@
            @*</div>
                </div>*@
            @*<div class="row justify-content-between">
                    <ul class="nav nav-material nav-material-white responsive-tab" id="v-pills-tab" role="tablist">
                        <li>
                            <a class="nav-link" href='@Url.Action("AllDeliveryChallan", "DeliveryChallan")'><i class="icon icon-home2"></i>All Delivery Challan</a>

                        </li>

                    </ul>
                </div>*@
        </div>
    </header>
    @*<div class="container">
        <div class="card shadow b-0">
            <div class="row">*@
    <div class="row">
        <div class="col-md-12">

            <div class="panel panel-default">


                <div class="container-fluid animatedParent animateOnce p-0">
                    <div class="animated fadeInUpShort">
                        <div class="row no-gutters">
                            <div class="col-md-3 d-none d-md-block text-truncate white b-r">
                                <div class="slimScroll">
                                    @*<div class="slimScroll" data-height="600">*@
                                    <ul class="list-unstyled">
                                        <li>
                                            <table class="table table-bordered table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            <h4><strong>Goods Inwards</strong> </h4>
                                                            <div class="float-right" data-toggle="popover" tabindex="5" data-trigger="focus" data-content='All Goods Inwards' title="Goods Inwards Type">
                                                                <span class="icon icon-circle s-12  mr-1 text-danger" title="All Goods Inwards"></span>
                                                            </div>

                                                            <div class="float-right" data-toggle="popover" tabindex="3" data-trigger="focus" data-content='Outsourcing' title="Goods Inwards Type">
                                                                <span class="icon icon-circle s-12  mr-1 text-success" title="Outsourcing"></span>
                                                            </div>
                                                            <div class="float-right" data-toggle="popover" tabindex="2" data-trigger="focus" data-content='Maintainance Spares' title="Goods Inwards Type">
                                                                <span class="icon icon-circle s-12  mr-1 text-primary" title="Maintainance Spares"></span>
                                                            </div>
                                                            <div class="float-right" data-toggle="popover" tabindex="1" data-trigger="focus" data-content='Raw Material' title="Goods Inwards Type">

                                                                <span class="icon icon-circle s-12  mr-1 text-secondary" title="Raw Material"></span>
                                                            </div>
                                                            <div class="float-right" data-toggle="popover" data-content='Consumables' tabindex="0" data-trigger="focus" title="Goods Inwards Type">
                                                                <span class="icon icon-circle s-12  mr-1 text-warning" title="Consumables"></span>
                                                            </div>
                                                        </th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var data in Model.ssmtbl_VendorPurchaseOrderModelList)
                                {
                                                        <tr class="trDelivery">
                                                            <td style="display:none" class="ftd"><input type="hidden" value="@data.vpo_id" class="poid" /></td>
                                                            <td style="display:none" class="ftd"><input type="hidden" value="@data.cstpo_id" class="poid" /></td>
                                                            <td style="display:none" class="ftd1"><input type="hidden" value="@data.vendor_po_type" class="DeliveryChallanType" /></td>
                                                            <td style="display:none" class="partyType"><input type="hidden" value="@data.PartyTYpe" class="PartyTYpe" /></td>
                                                            <td>
                                                                @*<a href="@Url.Action("AllDCJobDispatch", "DeliveryChallan")?DispatchNo=@data.dispatch_no" class="" title="Delivery Challan">*@
                                                                @*<a href="javascript:myFunction($(dispatchid1).val())">*@
                                                                @if (@data.PartyTYpe == "V")
                                                    {
                                                                    <div>
                                                                        @if (@data.vendor_po_type == "Consumables")
                                                            {
                                                                            <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                                <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#FCCE54"></span>
                                                                            </div>
                                                                            <div>
                                                                                <h6 class="mt-0 mb-1 font-weight-normal">@data.vendor_name</h6>

                                                                            </div>
                                                            }
                                                            else if (@data.vendor_po_type == "Raw Material")
                                                            {
                                                                            <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                                <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#6c757d"></span>
                                                                            </div>
                                                                            <div>

                                                                                <h6 class="mt-0 mb-1 font-weight-normal">@data.vendor_name</h6>
                                                                            </div>
                                                            }
                                                            else if (@data.vendor_po_type == "Maintainance Spares")
                                                            {
                                                                            <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                                <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#03a9f4"></span>
                                                                            </div>
                                                                            <div>
                                                                                <h6 class="mt-0 mb-1 font-weight-normal">@data.vendor_name</h6>

                                                                            </div>
                                                            }
                                                            else if (@data.vendor_po_type == "Outsourcing")
                                                            {
                                                                            <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                                <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#7dc855"></span>
                                                                            </div>
                                                                            <div>
                                                                                <h6 class="mt-0 mb-1 font-weight-normal">@data.vendor_name</h6>

                                                                            </div>
                                                            }

                                                            else { }
                                                                        @if (@data.vendor_po_type == "Consumables")
                                                            {

                                                                if (@data.po_no != "")
                                                                {

                                                                                <small style="color:grey" title="Approval Date">@data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp; @data.po_no</small>
                                                                }

                                                                else
                                                                {

                                                                                <small style="color:grey" title="Approval Date">@data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp; NA</small>
                                                                }
                                                            }


                                                            else if (@data.vendor_po_type == "Raw Material")
                                                            {
                                                                if (@data.po_no != "")
                                                                {

                                                                                <small style="color:grey" title="Approval Date">@data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp; @data.po_no</small>
                                                                }

                                                                else
                                                                {

                                                                                <small style="color:grey" title="Approval Date">  @data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp;NA</small>
                                                                }

                                                            }
                                                            else if (@data.vendor_po_type == "Maintainance Spares")
                                                            {
                                                                if (@data.po_no != "")
                                                                {

                                                                                <small style="color:grey" title="Approval Date"> @data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp; @data.po_no</small>
                                                                }

                                                                else
                                                                {

                                                                                <small style="color:grey" title="Approval Date"> @data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp; NA</small>
                                                                }

                                                            }
                                                            else if (@data.vendor_po_type == "Outsourcing")
                                                            {
                                                                if (@data.po_no != "")
                                                                {

                                                                                <small style="color:grey" title="Approval Date">@data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp;@data.po_no</small>
                                                                }

                                                                else
                                                                {

                                                                                <small style="color:grey" title="Approval Date"> @data.ApprovalDate.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                                <small style="color:grey" title="VPO No"> | &nbsp;NA</small>
                                                                }
                                                            }


                                                            else { }
                                                                    </div>

                                                    }

                                                    else
                                                         if (@data.PartyTYpe == "C")
                                                    {

                                                                    <div>
                                                                        <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                            <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#FCCE54"></span>
                                                                        </div>
                                                                        <div class="text-truncate">

                                                                            <h6 class="mt-0 font-weight-normal">@data.customerName</h6>
                                                                        </div>
                                                                        <small style="color:grey" title="Dia Number">@data.dia_no &nbsp;</small>
                                                                        <small style="color:grey" title="Customer PO No"> | &nbsp; @data.po_no</small>
                                                                    </div>
                                                    }
                                                    else
                                                    {

                                                    }
                                                            </td>
                                                        </tr>

                                        }
                                                </tbody>


                                            </table>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-12 animated fadeInUpShort white b-r m-2" id="tabDetails">
                                @*col-md-6 tab-pane animated fadeInUpShort*@
                                <div class="m-md-1">

                                    <div class="card b-0 m-2">
                                        <div class="card-body">
                                            <div data-target="#message1">
                                                <span class="r-3 badge badge-primary align-self-end float-right" id="spnChallanType" title="Challan Type">Challan Type</span>
                                                <br /><br />
                                                <div class="media">
                                                    <div class="float-left">
                                                        <i class="s-24 icon-file-o d-flex mr-3 height-50"></i>
                                                    </div>
                                                    <div class="media-body">

                                                        <h6 class="mt-0 mb-1 font-weight-normal" id="lblcustomerName"><label title="Customer Name"></label></h6>
                                                        <span style="padding-bottom:0">
                                                            <label>Purchase Order #</label>  <strong id="pono" class="Label"></strong> &nbsp;
                                                            <label> | &nbsp; Qty :</label> &nbsp;<label id="lblPOQty" class="Label"></label>
                                                            <br />

                                                        </span>
                                                        @*<small id="lblApprovalDate"></small>*@

                                                        <div class="collapse my-3 show" id="message1">
                                                            <div>
                                                                <p style="line-height: 1">
                                                                   Approval Date :&nbsp;<label id="lblApprovalDate" class="Label"></label><br />
                                                                    Part Name:&nbsp;<label id="lblPartName" class="Label"></label><br />
                                                                    Raw Material : &nbsp;<label id="lblrawMaterial" class="Label"></label>
                                                                    <br>
                                                                    Section : <label id="lblSection" class="Label"></label><br>
                                                                    Condition Of Supply : &nbsp;<label id="lblCondOfSupply" class="Label"></label><br />
                                                                    Cut Weight : &nbsp;<label id="lblCutwt" class="Label"></label><br />
                                                                    Operations Involved  : &nbsp;<label id="lblOpsinvolved" class="Label"></label><br />
                                                                    Heat Treatment : &nbsp;<label id="lblHeatTreatment" title="Heat Treatment" class="Label"></label><br />
                                                                    Hardness : &nbsp;<label id="lblHardnessMin" title="Hardness Min" class="Label"></label>&nbsp;&nbsp;- &nbsp;<label id="lblHardnessMax" title="Hardness Max" class="Label"></label>
                                                                    &nbsp;<label id="lblHardnessUnits" title="Hardness Unit" class="Label"></label><br />


                                                                </p>

                                                                @*<br /><br /><br /><br /><br />
                                        <br /><br />*@
                                                            </div>

                                                        </div>

                                                    </div>


                                                </div>
                                              
                                            </div>

                                        </div>

                                    </div>

                                </div>
                                @*<div class="card no-b mr-2">
                                    <div class="card-header white">
                                        <div class="d-flex justify-content-between">

                                           
                                            <div class="align-self-end float-right">
                                                <input type="hidden" id="hdnChalnDCType" />
                                                <h5>
                                                    <span class="r-3 badge badge-primary" style="width:100%;color:white;font-size:90%" id="spnChallanType">

                                                        <b id="ChallanType"> </b>


                                                    </span>
                                                </h5>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="card-body no-p">
                                        <div class="tab-content">
                                            <div class="tab-pane fade show active" id="w3-tab1" role="tabpanel" aria-labelledby="w3-tab1" data-height="100%">
                                              
                                                <div class="w-body w-scroll ">
                                                    <ul class="list-unstyled">
                                                      
                                                        <div class="container-fluid animatedParent animateOnce" id="divVendor" style="display:none;">
                                                            <div class="">
                                                                <form action="#">
                                                                    <div class="card no-b  no-r">
                                                                        <div class="card-body">
                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    PO No:

                                                                                </div>
                                                                             
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label id="pono" class="Label"></label>
                                                                                </div>

                                                                                <div class="form-group col-3 m-0">
                                                                                    PO Date:
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    <label class="Label" id="poDate"></label>
                                                                                </div>

                                                                            </div>
                                                                            <div class="form-row mt-1 m-2">

                                                                                <div class="form-group col-3 m-0" id="lblCustomerPONo">

                                                                                    Return Date:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">


                                                                                    <label class="Label" id="returnDate"></label>


                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    Vendor Name:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="vendorName"></label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-row mt-1 m-2">

                                                                                <div class="form-group col-3 m-0">
                                                                                    PO Quantity:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="po_qty"></label>
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    Task:


                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="Task"></label>

                                                                                </div>
                                                                            </div>
                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    GIN No:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="ginNo"></label>
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    GIN Date:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                   
                                                                                    <label class="Label" id="ginDate"></label>
                                                                                </div>


                                                                            </div>

                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    Challan No:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="challanNo"></label>
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    Invoice No:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                  
                                                                                    <label class="Label" id="invoiceNo"></label>
                                                                                </div>


                                                                            </div>
                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    Mode Of Transport:

                                                                                </div>
                                                                                <div class="form-group col-6 m-0">
                                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                                        <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                                                                        <label class="custom-control-label m-0 Label" for="ModRoad">Road</label>
                                                                                    </div>
                                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                                        <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                                                                        <label class="custom-control-label m-0 Label" for="ModCourier">Courier</label>
                                                                                    </div>
                                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                                        <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                                                                        <label class="custom-control-label m-0 Label" for="ModHandCarriedBy">Hand Carried By</label>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                </div>


                                                                            </div>
                                                                            <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                                                                <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                                                                    Vehicle No.:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                                                                    <input type="text" class="form-control r-0 light s-12" id="txtvehicleNo" />

                                                                                </div>
                                                                                <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                                                                    Courier Tracker Id:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                                                                    <input type="text" class="form-control r-0 light s-12" id="txtcourierTrackerId" />

                                                                                </div>
                                                                                <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                                                                    Person Name:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0" id="personName" style="display:none">
                                                                                    <input type="text" class="form-control r-0 light s-12" id="txtpersonName" />

                                                                                </div>
                                                                            </div>
                                                                            <div class="form-row mt-1 m-0">

                                                                                <div class="form-group col-12 m-0">
                                                                                    Item Details:
                                                                                    <table class="table table-bordered table-condensed">
                                                                                        <thead>
                                                                                            <tr>
                                                                                               
                                                                                                <th>Part Description</th>
                                                                                                <th>Ordered Qty</th>
                                                                                                <th>Received Qty</th>
                                                                                                <th>Accepted Qty</th>
                                                                                                <th>Challan Qty</th>

                                                                                                <th>Remark</th>
                                                                                                <th></th>
                                                                                            </tr>
                                                                                        </thead>

                                                                                    </table>

                                                                                </div>

                                                                            </div>

                                                                            <div class="form-row mt-1 m-0" style="max-height:150px; overflow:hidden;" id="processing">
                                                                                <div class="col-md-12">

                                                                                    <table class="table" id="maintable">

                                                                                        <tbody>
                                                                                            <tr></tr>
                                                                                        </tbody>
                                                                                    </table>

                                                                                </div>

                                                                            </div>

                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    Documents Received:

                                                                                </div>
                                                                                <div class="form-group col-9 m-0">
                                                                                    <select class="select2" name="RawMaterialTest[]" multiple="multiple">
                                                                                        @for (int i = 0; i < Model.ssmtbl_GoodsInward_DocReceivedModel.Count; i++)
                                                                        {

                                                                                            <option value="@Model.ssmtbl_GoodsInward_DocReceivedModel[i].doc_id" class="form-control r-0 light s-12">
                                                                                                @Model.ssmtbl_GoodsInward_DocReceivedModel[i].doc_name
                                                                                            </option>

                                                                        }

                                                                                    </select>

                                                                                </div>

                                                                            </div>

                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    Comment:

                                                                                </div>
                                                                                <div class="form-group col-9 m-0">
                                                                                    <textarea id="txtComment" class="form-control r-0 light s-12 "></textarea>

                                                                                </div>

                                                                            </div>



                                                                        </div>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>

                                                        <div class="container-fluid animatedParent animateOnce" id="divCustomer" style="display:none;">
                                                            <div class="">
                                                                <form action="#">
                                                                    <div class="card no-b  no-r">
                                                                        <div class="card-body">
                                                                            <div class="form-row mt-1 m-2">
                                                                                <div class="form-group col-3 m-0">
                                                                                    PO No:

                                                                                </div>
                                                                          
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label id="Customerpono" class="Label"></label>
                                                                                </div>

                                                                                <div class="form-group col-3 m-0">
                                                                                    PO Date:
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    <label class="Label" id="cstpoDate"></label>
                                                                                </div>

                                                                            </div>
                                                                            <div class="form-row mt-1 m-2">

                                                                                <div class="form-group col-3 m-0" id="lblCustomerPONo">

                                                                                    Die Number:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">


                                                                                    <label class="Label" id="cstreturnDate"></label>


                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    Customer Name:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="customerName"></label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-row mt-1 m-2">

                                                                                <div class="form-group col-3 m-0">
                                                                                    PO Quantity:

                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="cstpo_qty"></label>
                                                                                </div>
                                                                                <div class="form-group col-3 m-0">
                                                                                    Task:


                                                                                </div>
                                                                                <div class="form-group col-3 m-0">

                                                                                    <label class="Label" id="cstTask"></label>

                                                                                </div>
                                                                            </div>
                                                                          
                                                                        </div>

                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </ul>

                                                </div>
                                            </div>
                                            <div class="tab-pane fade text-center" id="w3-tab2" role="tabpanel" aria-labelledby="w3-tab2" style="display:none">
                                                <div class="page" id="printpdf">

                                                    <div class="container">
                                                        <div class="invoice white shadow">
                                                            <div id="viewchallan" class="p-2">
                                                                <center>
                                                                    <div id="challenprint">
                                                                        <table>
                                                                            <tr><td colspan="6" align="center" color="black"><h4>Delivery Challan</h4></td></tr>
                                                                            <tr>
                                                                                <td rowspan="3" width="90px" align="left">
                                                                                    <img src="~/NewCssAndTheme/img/ssmlogo.jpg" alt="" width="50" height="60" />

                                                                                </td>
                                                                                <td rowspan="3" colspan="3" width="250px">
                                                                                    <span>
                                                                                        Shree Siddheshwari Metal Forging Pvt. Ltd. <br />
                                                                                        <small> J-489/490 MIDC Bhosari Pune - 411026</small> <br />
                                                                                        <small>Off.: 020- 27130120/ 27130570</small>
                                                                                    </span>
                                                                                </td>

                                                                                <td width="90">Challan No.:</td>
                                                                                <td width="90"><span id="spn_challanno"></span></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Date:</td>
                                                                                <td><span id="spn_date1"></span></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td>Ref. No.:</td>
                                                                                <td><span id="spn_refno"></span></td>
                                                                            </tr>

                                                                            <tr>
                                                                                <td rowspan="2" colspan="4">
                                                                                    To,<br />
                                                                                    <span id="spn_custname"></span>
                                                                                </td>
                                                                                <td>Date:</td>
                                                                                <td><span id="spn_date2"></span></td>

                                                                            </tr>
                                                                            <tr>
                                                                                <td>Vehicle No.:</td>
                                                                                <td><span id="spn_vehicleno"></span></td>

                                                                            </tr>
                                                                            <tr>
                                                                                <td colspan="6" id="tditemslist">
                                                                                    <table id="tblDCItems" class="table">

                                                                                        <thead>
                                                                                            <tr id="tritems">
                                                                                                <td width="10%">Sr.No.</td>
                                                                                                <td width="80%">Description</td>
                                                                                                <td width="10%">Quantity</td>
                                                                                            </tr>
                                                                                        </thead>

                                                                                        <tbody id="tbodyDCItems"></tbody>
                                                                                    </table>
                                                                                </td>
                                                                            </tr>

                                                                            <tr><td colspan="6">Received the above goods in good order & condition.</td></tr>
                                                                            <tr><td rowspan="3" colspan="2"><br />Receiver's Signature</td> <td rowspan="3" colspan="5"><br />For Shree Siddheshwari Metal Forging Pvt. Ltd.</td> </tr>
                                                                            <tr></tr>
                                                                            <tr></tr>
                                                                            <tr><td colspan="5"></td><td>MT /FM - 05</td></tr>
                                                                            <tr><td colspan="6" align="right">This is autogenerated</td></tr>

                                                                        </table>
                                                                    </div>
                                                                </center>

                                                            </div>
                                                            <a class="btn btn-sm  btn-primary float-right m-4 footer" id="btnPrintDC"><i class="icon icon-print"></i> Print</a>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>




                                        </div>

                                    </div>
                                </div>*@
                                <div>
                                    <button type="button" value="Save" class="btn btn-success btn-sm btnGenerateWO" id="btnGenerateWO" onclick="showGIN()"><i class="icon-input mr-2"></i> Generate GIN </button>
                                </div>
                            </div>
                            <div class="col-md-3 tab-pane animated fadeInUpShort  white b-r m-2" id="GINDetailsDiv" style="display:none">
                                @*col-md-6 col-sm-12 animated fadeInUpShort white b-r m-2*@
                                <div class="m-md-1">
                                  
                                    <div class="card b-0 m-2">
                                        <div class="card-body">
                                           
                                            <div class="form-row">
                                                <div class="form-group col-12 m-0 float-right">
                                                    <span class="col-form-label s-12 float-right">
                                                        WO # <strong id="lblWorkorderno" class="Label">  </strong>
                                                    </span>
                                                </div>
                                            
                                                <div class="form-group col-12 m-0">
                                                    <h6 class="mt-0 font-weight-normal" id="lblcustomerName1"><label title="Customer Name"></label></h6>
                                                    @*<strong id="lblcustomerName1"></strong>*@
                                                    <span>
                                                        <label>PO # </label>&nbsp;<strong id="lblpono1" class="Label"></strong>
                                                    </span>

                                                 
                                                    <br /><br />
                                                    <div>
                                                        <p style="line-height: 1">
                                                            Die #&nbsp; <label id="lblDieNo1" class="Label"></label><br />
                                                            PO Quantity : &nbsp;<label id="txtPoQty" class="Label"></label><br />
                                                            Section : &nbsp;<label id="lblSection1" class="Label"></label><br />
                                                            Cut Weight :&nbsp; <label id="lblCutwt1" class="Label"></label> <br />


                                                            Hammer Required : &nbsp; <label id="lblHammerReq" class="Label"></label>
                                                            <br />
                                                            Cut Length : &nbsp; <label id="lblCutLength" class="Label"></label>
                                                            <br />
                                                            Heat Code : &nbsp; <label id="lblHeatCode" class="Label">Heat Code</label>
                                                        </p>

                                                    </div>
                                                    <div class="form-row">

                                                        <div class="form-group col-12 m-0" id="divbtnGenerateReq">
                                                            <i class="float-left"><label style="font-size:11px">RM Availability :</label>&nbsp;<label id="RMAvailability" style="font-size:11px" class="Label"></label></i>
                                                            <button type="button" value="Save" class="btn btn-success btn-xs float-right" id="btnGenerateReq" href="#modalGenerateRequisition" data-toggle="modal" data-target="#modalGenerateRequisition" title="Generate Raw Material Requisition"><i class="icon-input"></i>  </button>

                                                        </div>

                                                    
                                                        <div class="form-group col-12 m-0" id="divbtnGenerateDieReq">
                                                            <i class="float-left"><label style="font-size:11px">Die Availability :</label>&nbsp;<label id="DieAvailability" style="font-size:11px" class="Label"></label></i>
                                                            <button type="button" value="Save" class="btn btn-primary btn-xs float-right" id="btnGenerateDieReq" href="#modalGenerateDieRequisition" data-toggle="modal" data-target="#modalGenerateDieRequisition" title="Generate Die Requisition"><i class="icon-input"></i>  </button>

                                                        </div>
                                                    </div>
            
                                                    <div class="form-row">

                                                        <div class="form-group col-6 m-0">
                                                            <label for="txtTargetDate" class="col-form-label s-12">  Target Date:</label>
                                                            <input id="txtTargetDate" class="date-time-picker form-control r-0 light s-12 " type="text" readonly="readonly">
                                                            <i class="float-left"><label style="font-size:11px">Dispatched Qty:</label>&nbsp;<label id="lblTotalDispatchQty" style="font-size:11px" class="Label"></label></i>
                                                        </div>
                                                       
                                                        <div class="form-group col-6 m-0">
                                                            <label for="txtPlanQty" class="col-form-label s-12">Plan Qty:</label>

                                                            <input id="txtPlanQty" class="form-control r-0 light s-12 " type="text" onfocusout="isGreaterThanPOQty()">
                                                            <i class="float-right"><label style="font-size:11px">Balance Qty:</label>&nbsp;<label id="lblBalancedQty" style="font-size:11px" class="Label"></label></i>
                                                        </div>
                                                     
                                                    </div>

                                             
                                                </div>

                                                <div class="card-body" id="div_gpo">
                                                    <div class="float-left">
                                                     
                                                        <button type="button" value="Save" class="btn btn-primary btn-sm float-right btnGenerateCuttingSlip" id="btn_Modal" href="#modalCuttingSlip" data-toggle="modal" data-target="#modalCuttingSlip" title="Generate Cutting Slip"><i class="icon-input"></i> Cutting Slip </button>
                                                    </div>
                                                    <div class="float-right">
                                                        <button type="button" value="Save" class="btn btn-primary btn-default btn-sm btnGenerateWO" id="btn_Save1" onclick="generatewo()"><i class="icon-save mr-2"></i> Save </button>
                                                      

                                                    </div>

                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                </div>




                            </div>

                            <div class="" id="btnDiv">
                              
                                <div id="divPrintView" class="custom-control-inline float-left">
                                    <button type="button" class="btn btn-primary btn-sm" id="btnViewPrint" value="Update"><i class="icon-eye mr-2"></i>View</button>
                                </div>
                                <div id="submitDiv" class="custom-control-inline float-right">
                                    <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Generate</button>
                                </div>
                                <div id="loaderDiv" style="display:none;" class="custom-control-inline float-right m-3">
                                    <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                </div>



                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="~/Scripts/jquery-1.10.2.js"></script>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>

<script src="~/Content/Validations/JqueryUi.js"></script>

<script>

    var $j = jQuery.noConflict(true);
    $j(document).ready(function () {

        $("#tabDetails").hide();
        $("#GINDetailsDiv").hide();
        $("#btnViewPrint").hide();
        $("#btnSubmit").hide();
        $("#spnChallanType").hide();
        document.body.style.overflow = 'hidden';
        $('[data-toggle="popover"]').popover({
            placement: 'top'
        });
    });
</script>
<script>

    $(".trDelivery").click(function () {

        window.scrollBy(0, 50); //for scroll top
        window.scrollBy(0, -50); //for scroll down
    });
</script>
<script type="text/javascript">

    $j(".trDelivery").click(function () {
        $(this).addClass("p-3 b-b light border-right border-primary");
        $(this).siblings().removeClass("p-3 b-b light border-right border-primary");
        $("#tabDetails").show();

        $("#spnChallanType").show();
        $("#btnDiv").show();
        $("#btnSubmit").show();
        var poid = $(this).closest("tr").find("td .poid").val();
        var vendor_po_type = $(this).closest("tr").find("td .DeliveryChallanType").val();
        var party = $(this).closest("tr").find("td .PartyTYpe").val();

        $.ajax
                                  ({
                                      type: "POST",
                                      url: "../GoodsInward/GetOneGINDetails",
                                      data: JSON.stringify({
                                          POId: ' ' + poid + ''
                                      }),
                                      contentType: "application/json;charset=utf-8",
                                      //dataType: "json",
                                      success: function (data) {
                                          //document.getElementById('dispatch_qty').style.border = 'black';

                                          if (party == "C") {
                                              $j('#Customerpono').text(data.vendor_po_no);
                                              $j('#cstpoDate').text(jsondateformatconvert(data.date_of_arrival));
                                              $j('#customerName').text(data.vendor_name);
                                              $j('#btnSubmit').show();
                                              $j('#divCustomer').show();
                                              $j('#divVendor').hide();
                                              //$j('#lblCustomerPONo').text("Customer PO No:");
                                              //$j('#customer_name').text(data.customer_name);
                                              //$j('#customer_id').text(data.customer_id);
                                              //$j('#CustomerPONo').text(data.CustomerPONo);
                                              //$j('#spn_custname').text(data.customer_name);
                                          } else {
                                              $j('#pono').text(data.vendor_po_no);
                                              $j('#poDate').text(jsondateformatconvert(data.date_of_arrival));
                                              $j('#vendorName').text(data.vendor_name);
                                              $j('#btnSubmit').show();
                                              $j('#divCustomer').hide();
                                              $j('#divVendor').show();
                                              //$j('#customer_name').text(data.vendor_name);
                                              //$j('#vendor_nameRepair').text(data.vendor_name);
                                              //$j('#vendor_nameOut').text(data.vendor_name);
                                              //$j('#divcustName').text("Vendor Name:");
                                              //$j('#lblCustomerPONo').text("Vendor PO No:");
                                              //$j('#CustomerPONo').text(data.vendor_po_no);
                                              //$j('#spn_custname').text(data.vendor_name);
                                          }
                                          $j('#spnChallanType').text(data.delivery_challan_type);
                                          $j('#hdnChalnDCType').text(data.delivery_challan_type);
                                          if (vendor_po_type == "Consumables") {
                                              var element = document.getElementById("spnChallanType");
                                              element.className = "r-3 badge badge-warning align-self-end float-right";

                                              $j('#spnChallanType').text("Consumables");

                                          }
                                          else if (vendor_po_type == "Raw Material") {
                                              var element = document.getElementById("spnChallanType");
                                              element.className = "r-3 badge badge-secondary align-self-end float-right";
                                              $j('#spnChallanType').text("Raw Material");
                                          }
                                          else if (vendor_po_type == "Outsourcing") {
                                              var element = document.getElementById("spnChallanType");
                                              element.className = "r-3 badge badge-success align-self-end float-right";
                                              $j('#spnChallanType').text("Outsourcing");
                                          }
                                          else if (vendor_po_type == "Maintainance Spares") {
                                              var element = document.getElementById("spnChallanType");
                                              element.className = "r-3 badge badge-primary align-self-end float-right";
                                              $j('#spnChallanType').text("Maintainance Spares");
                                          } else if (vendor_po_type == "") {
                                              var element = document.getElementById("spnChallanType");
                                              $("#spnChallanType").hide();
                                              //$("#btnSubmit").hide();

                                          }

                                          //$j('#vendor_id').text(data.vendor_id);
                                          //$j('#vendor_name').text(data.vendor_name);

                                          //$j('#po_qty').text(data.po_qty);
                                          //$j('#HSNCode').text(data.HSNCode);
                                          //$j('#Customer_part_no').text(data.Customer_part_no);
                                          //$j('#partDescription').text(data.part_description);


                                          //getDeliveryDetails(data.dispatch_no);
                                      },
                                      error: function (err) {
                                          // alert('Error occured');
                                      }
                                  });
    });
</script>
<script>
        function showGIN() {
            $("#GINDetailsDiv").toggle();
            //$("#txtTargetDate").val("");
            //$("#txtPlanQty").val("");
        }
    </script>
<script>
    $j('#ModRoad').click(function () {
        $j('#lblvehicleNo').show();
        $j('#vehicleNo').show();
        $j('#lblcourierTrackerId').hide();
        $j('#courierTrackerId').hide();
        $j('#lblpersonName').hide();
        $j('#personName').hide();
    });
    $j('#ModCourier').click(function () {
        $('#lblvehicleNo').hide();
        $('#vehicleNo').hide();
        $('#lblcourierTrackerId').show();
        $('#courierTrackerId').show();
        $('#lblpersonName').hide();
        $('#personName').hide();
    });
    $j('#ModHandCarriedBy').click(function () {
        $('#lblvehicleNo').hide();
        $('#vehicleNo').hide();
        $('#lblcourierTrackerId').hide();
        $('#courierTrackerId').hide();
        $('#lblpersonName').show();
        $('#personName').show();
    });
</script>
<script>
    $("#btnSubmit").click(function () {
        $("#btnSubmit").hide();
        $("#w3--tab2").show();
        $("#w3--tab2").click();
    });
    $("#btnViewPrint").click(function () {
        $("#btnDiv").hide();
        $("#btnSubmit").show();
        $("#w3--tab2").show();
        $("#w3--tab2").click();
    });
    $("#w3--tab1").click(function () {
        $("#w3--tab2").hide();
        $("#btnDiv").show();
        $("#btnSubmit").show();
    });

</script>
<script>
    function jsondateformatconvert(jsondate) {
        var MyDate_String_Value = jsondate;
        var value = new Date
        (
        parseInt(MyDate_String_Value.replace(/(^.*\()|([+-].*$)/g, ''))
        );
        var date = value.getDate();
        if (date < 10) {
            date = "0" + date;
        } else {
            date = date;
        }
        var month = value.getMonth() + 1;
        if (month < 10) {
            month = "0" + month;
        } else {
            month = month;
        }
        var year = value.getFullYear();
        var dat = date + "-" + month + "-" + year;
        return dat;
    }
</script>

