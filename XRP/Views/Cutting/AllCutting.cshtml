
@using XRP.Global;
@{
    ViewBag.Title = "AllCutting";
    ViewBag.Active = "Production";
    Layout = "~/Views/Shared/_DesignLayout.cshtml";
}

<link href="~/Content/Validations/jquery-ui.css" rel="stylesheet" />
@using (Html.BeginForm("AllCutting", "Cutting", FormMethod.Get, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)
    <input type="hidden" id="hdnCuttingID" />
    <input type="hidden" id="woPOID" />
    <input type="hidden" id="hdnGrossWeight" />
    <div class="paddingLeft15 paddingTop15">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="container-fluid animatedParent animateOnce p-0">
                        <div class="animated  ">
                            <div class="row no-gutters">
                                <div class="col-md-3 white sticky" style="height:auto">
                                    <div class="sticky white">
                                        <ul class="nav nav-tabs nav-material">
                                            <li class="nav-item">
                                                <a class="nav-link p-3 active show" id="w2--tab1" data-toggle="tab" href="#w2-tab1" style="height:auto">
                                                    <i class="icon icon-document s-18 text-success"></i>Cutting Slips
                                                </a>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="slimScroll" style="position:relative;overflow:hidden;height:initial">
                                        <div class="slimScroll" style="">
                                            <div class="tab-content " id="v-pills-tabContent">
                                                <div class="tab-pane  show active slimScroll" id="w2-tab1" role="tabpanel"
                                                     aria-labelledby="w2-tab1">
                                                    <ul class="list-unstyled trDelivery" id="ullslistbind"></ul>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="col-md-5 " id="CutDetailsDiv" style="height:auto">
                                    <div class="row">
                                        <div data-toggle="collapse" data-target="#cutdetialsDiv"> 
                                            <div> 
                                                <h6 class="mt-0 mb-1 font-weight-normal" id="lblCutSlipNo">
                                                <label title="Cutting Slip"></label></h6>
                                                <strong id="lblCustName" class="Label"></strong> &nbsp;
                                                <br>
                                                <div class="row">
                                                    <div class="col-md-5">
                                                        Issued Qty (Kgs):                                                       
                                                    </div>
                                                    <div class="col-md-5">
                                                        <label id="lblIssuedQty" class="Label"></label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-5">
                                                        Received Qty (Kgs) : &nbsp;<label id="lblReceivedQty" class="Label"></label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <input id="txtReceivedQty" class="form-control" type="text">
                                                    </div>
                                                </div> 
                                                <div class="row">
                                                    <div class="col-md-5">
                                                        Remark : &nbsp;<label id="lblReceivedRemark" class="Label"></label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <input id="txtReceivedRemark1" class="form-control" type="text">  
                                                    </div>
                                                    <button type="button" class="btn btn-outline-info btn-xs float-right btnUpdateRecQty" id="btnUpdateRecQty" onclick="updateReceivedQty(this);">Receive</button>
                                                </div> 
                                                <div class="collapse my-3 show" id="divCutDetailss">
                                                    <div class="row">
                                                        <div class=" col-md-5">
                                                            Part Name : <label id="lblPartName" class="Label"></label><br>
                                                            Part No # <label id="lblPartNo" class="Label"></label><br>
                                                            Raw Material : <label id="lblRM" class="Label"></label><br>
                                                        </div>
                                                        <div class=" col-md-5">
                                                            Cut Weight: &nbsp;<label id="lblCutWt" class="Label"></label>
                                                            <br>
                                                            Qty:&nbsp;<label id="lblPOQty" class="Label"></label>&nbsp;&nbsp;|&nbsp;
                                                            Weight : <label id="lblWeight" class="Label"></label>
                                                            <br />
                                                            Section:&nbsp;<label id="lblSection" class="Label"></label><br />
                                                            Heat Code : &nbsp;<label id="lblHeatCode" class="Label"></label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class=" col-md-12">
                                                            Operations Involved:&nbsp;<label id="lblOpsinvolved" class="Label"></label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label class="col-form-label s-12"><strong>Machine Idle Time:</strong></label>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6"> 
                                                            <label for="txtMcIdleFrom" class="Label">From:</label>
                                                            <input id="txtMcIdleFrom" class="date-time-picker form-control" type="text">
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="txtMcIdleTo" class="Label">To:</label>
                                                            <input id="txtMcIdleTo" class="date-time-picker form-control r-0 light s-12 Float-Number" type="text">
                                                        </div> 
                                                    </div> 

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <label for="txtMcBrkDwnReason" class="Label">Reason:</label>

                                                                <select class="form-control" id="txtMcBrkDwnReason">
                                                                    <option value="Select">- Select -</option>
                                                                    <option value="Breakdown">Breakdown</option>
                                                                    <option value="Die Change">Die Change</option>
                                                                    <option value="Other">Other</option> 
                                                                </select> 
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-md-4" id="CuttDetailsDiv" style="display:none; overflow : hidden ; height : 900px ;" data-height="900">
                                        
                                            <div class="row">
                                                <div class=" col-md-12">
                                                    <span class="col-form-label s-12 float-left">
                                                        CS # <strong id="lblCSno" class="Label">  </strong>
                                                    </span>
                                                </div>

                                                <div class=" col-md-12 ">
                                                    <h6 class="mt-0 font-weight-normal" id="lblcustomerName1"><label title="Customer Name"></label></h6>

                                                    <span>
                                                        <label>WO # </label>&nbsp;<strong id="lblWorkorderno" class="Label"></strong>
                                                    </span>

                                                    

                                                    <div class="row">
                                                        <div class=" col-md-6">
                                                            <label for="txtOkCutPcs" class="col-form-label">Final Cut Pcs (Nos):</label>
                                                            <input id="txtOkCutPcs" class="form-control Float-Number" type="text">
                                                        </div>
                                                        <div class=" col-md-6">
                                                            <label for="txtOkCutPcsKgs" class="col-form-label s-12">Final Cut Pcs (Kgs):</label>
                                                            <input id="txtOkCutPcsKgs" class="form-control r-0 light s-12 Float-Number" type="text">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <label for="txtEndPcsNos" class="col-form-label s-12">End Pcs (Nos):</label>
                                                            <input id="txtEndPcsNos" class="form-control r-0 light s-12 Float-Number" type="text">
                                                        </div>
                                                        
                                                            <div class="col-md-6">
                                                                <label for="txtEndPcsKgs" class="col-form-label s-12">End Pcs (Kgs):</label>
                                                                <input id="txtEndPcsKgs" class="form-control r-0 light s-12 Float-Number" type="text">
                                                            </div>
                                                        </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <label for="txtRejectedPcsNos" class="col-form-label">Rejected Pcs (Nos):</label>
                                                            <input id="txtRejectedPcsNos" class="form-control" type="text">
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="txtRejectedPcsKgs" class="col-form-label">Rejected Pcs (Kgs):</label>
                                                            <input id="txtRejectedPcsKgs" class="form-control" type="text">
                                                        </div>
                                                    </div>
                                                    <label class="col-form-label s-12" style="padding-bottom:0px;"><strong style="padding-bottom:0px;">Cutting (Kgs):</strong></label>
                                                    <div class="row">

                                                        <div class="col-md-4">
                                                            <label for="txtCutting1" class="col-form-label s-12">1</label>
                                                            <input id="txtCutting1" class="form-control r-0 light s-12 Float-Number" type="text" oninput="calculationCuttingAvg()">
                                                        </div>
                                                        <div class="col-md-4">
                                                            <label for="txtCutting2" class="col-form-label s-12">2</label>
                                                            <input id="txtCutting2" class="form-control r-0 light s-12 Float-Number" type="text" oninput="calculationCuttingAvg()">
                                                        </div>
                                                        <div class="col-md-4">
                                                            <label for="txtCutting3" class="col-form-label s-12">3</label>
                                                            <input id="txtCutting3" class="form-control r-0 light s-12 Float-Number" type="text" oninput="calculationCuttingAvg()">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <label for="txtCutting4" class="col-form-label s-12">4</label>
                                                            <input id="txtCutting4" class="form-control r-0 light s-12 Float-Number" type="text" oninput="calculationCuttingAvg()">
                                                        </div>
                                                        <div class="col-md-4">
                                                            <label for="txtCutting5" class="col-form-label s-12">5</label>
                                                            <input id="txtCutting5" class="form-control r-0 light s-12 Float-Number" type="text" oninput="calculationCuttingAvg()">
                                                        </div>
                                                        <div class="col-md-4">
                                                            <label for="txtCuttingAvg" class="col-form-label s-12">Average</label>
                                                            <input id="txtCuttingAvg" class="form-control r-0 light s-12 Float-Number" type="text" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="float-right mt-3">
                                                        <button type="button" value="Save" class="btn btn-outline-primary btn-xs float-right" id="btnSaveCuttingAdditionalDetails" onclick="saveCuttingAdditionalDetails(this)"><i class="icon-save mr-2"></i> Save </button>
                                                    </div>
                                                </div>
                                                <div class="card-body" id="div_gpo">

                                                    <div class="float-right">
                                                        <button type="button" value="Save" class="btn btn-primary btn-default btn-sm btnGenerateWO" id="btn_Save1" onclick="saveCuttingDetails()"><i class="icon-save mr-2"></i> Save </button>
                                                        
                                                    </div>

                                                </div>
                                            </div>

                                              

                                       
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <script type="text/javascript" src="~/Scripts/jquery-1.10.2.js"></script>
        <script src="~/Scripts/jquery-1.10.2.min.js"></script>
        <script src="~/Content/Validations/JqueryUi.js"></script>

        <script type="text/javascript">
            var $j = jQuery.noConflict(true);
        </script>
        <script type="text/javascript">
            $(document).ready(function () {
                $("#CutDetailsDiv").hide();
                $("#CuttDetailsDiv").hide();

                document.body.style.overflow = 'hidden';
                $(function () {
                    $('.date-time-picker').datetimepicker({
                        dateFormat: 'd/m/Y',
                        timeFormat: "hh:mm:ss a",
                        timepicker: true,
                        minutePicker: true,
                    });
                });

                fetchCuttinglist(0);
            });
        </script>
        <script>
            $(".liPOS").click(function () {

                $(this).addClass("media p-3 b-b has-hover light border-left");
                $(this).siblings().removeClass("media p-3 b-b has-hover light border-left");
                $(this).siblings().addClass("media p-3 b-b has-hover");
            });
        </script>
        <script>
            function saveCuttingAdditionalDetails(btnn) {
                btnn.disabled = true;
                var CuttingID = $('#hdnCuttingID').val();
                var Cutting1 = $("#txtCutting1").val();
                var Cutting2 = $("#txtCutting2").val();
                var Cutting3 = $("#txtCutting3").val();
                var Cutting4 = $("#txtCutting4").val();
                var Cutting5 = $("#txtCutting5").val();
                var Avg = $("#txtCuttingAvg").val();
                if (Cutting1 == "") {
                    alert("Please Enter Cutting 1 !");
                    return false;
                }
                if (Cutting2 == "") {
                    alert("Please Enter Cutting 2 !");
                    return false;
                }
                if (Cutting3 == "") {
                    alert("Please Enter Cutting 3 !");
                    return false;
                }
                if (Cutting4 == "") {
                    alert("Please Enter Cutting 4 !");
                    return false;
                }
                if (Cutting5 == "") {
                    alert("Please Enter Cutting 5 !");
                    return false;
                }
                $.ajax({
                    type: "POST",
                    url: "../Cutting/SaveAddCutDetails",
                    // data: params,
                    data: JSON.stringify({ CuttingID: ' ' + CuttingID + '', Cutting1: ' ' + Cutting1 + '', Cutting2: ' ' + Cutting2 + '', Cutting3: ' ' + Cutting3 + '', Cutting4: ' ' + Cutting4 + '', Cutting5: ' ' + Cutting5 + '', Avg: ' ' + Avg + '' }),
                    contentType: "application/json;charset=utf-8",
                    // dataType: "json",
                    success: function (data) {
                        alert("Cutting Details Saved Successfully !");
                    },
                    error: function (err) {
                        alert('Error occured');

                    }
                });
            }
        </script>
        <script>
            function updateReceivedQty(btnn) {
                btnn.disabled = true;
                var CuttingID = $("#hdnCuttingID").val();
                var ReceivedQty = $("#txtReceivedQty").val();
                var ReceivedRemark = $("#txtReceivedRemark1").val();
                if (ReceivedQty == "") {
                    btnn.disabled = false;
                    alert("Please Enter Received Quantity !");
                    return false;
                }
                $("#CuttDetailsDiv").show();
                $("#divCutDetailss").show();
                $.ajax({
                    type: "POST",
                    url: "../Cutting/updateReceivedQty",
                    // data: params,
                    data: JSON.stringify({ CuttingID: ' ' + CuttingID + '', ReceivedQty: ' ' + ReceivedQty + '', ReceivedRemark: ' ' + ReceivedRemark + '' }),
                    contentType: "application/json;charset=utf-8",
                    // dataType: "json",
                    success: function (data) {

                    },
                    error: function (err) {
                        alert('Error occured');

                    }
                });
            }
        </script>
        <script>
            function fetchCuttinglist(id) {
                $.ajax({
                    type: "POST",
                    url: "../Cutting/BindCuttingList",
                    // data: params,
                    data: JSON.stringify({ id: ' ' + id + '' }),
                    contentType: "application/json;charset=utf-8",
                    // dataType: "json",
                    success: function (data) {


                        var items = [];
                        for (var i = 0; i < data.length; i++) {
                            // tr = $('<tr class="mosurhandsymbol dataGrid"/>');
                            // tr.append('<td style="display:none;">' + data[i].RfqID + '</td>');
                            // tr.append('<td><div class="avatar avatar-md mr-3 mt-1 float-left"><span class="avatar-letter avatar-letter-' + data[i].UserName.substring(0, 1).toLowerCase() + ' avatar-md circle"></span></div><div><div><strong>' + data[i].UserName + '</strong></div><span>' + data[i].Status + ' | ' + data[i].VendorType + '</span></div></td>');
                            //$('#tbl_AllVpo').append(tr);
                            items.push('<li class="media p-3 b-b has-hover liPOS" onclick="fetchsinglelist(' + data[i].CuttingID + ')"><i class="icon icon-note-list text-light-blue s-48"></i><div class="media-body text-truncate"><small class="float-right" title="Created Date"><span>' + jsondateformatconvert(data[i].CreatedDate) + '</span></small><h6 class="mt-0 mb-1 font-weight-normal">' + data[i].CuttingSlipNo + '</h6><small>' + data[i].WorkorderNo + '</small><small> | Qty# ' + data[i].Quantity + '</small></div></li>');

                        }
                        $('#ullslistbind').append(items.join(''));
                    },
                    error: function (err) {
                        alert('Error occured');

                    }
                });
            }
        </script>

        <script>
            function calculationCuttingAvg() {
                var Cutting1 = $("#txtCutting1").val() == '' ? 0 : $("#txtCutting1").val();
                var Cutting2 = $("#txtCutting2").val() == '' ? 0 : $("#txtCutting2").val();
                var Cutting3 = $("#txtCutting3").val() == '' ? 0 : $("#txtCutting3").val();
                var Cutting4 = $("#txtCutting4").val() == '' ? 0 : $("#txtCutting4").val();
                var Cutting5 = $("#txtCutting5").val() == '' ? 0 : $("#txtCutting5").val();
                var avg = parseFloat(((parseFloat(Cutting1) + parseFloat(Cutting2) + parseFloat(Cutting3) + parseFloat(Cutting4) + parseFloat(Cutting5)) / 5)).toFixed(2);
                $("#txtCuttingAvg").val(avg);
            }
        </script>

        <script>
            function fetchsinglelist(id) {
                //$(this).addClass("media p-3 b-b has-hover light border-right");
                //$(this).siblings().removeClass("media p-3 b-b has-hover light border-right");
                //$(this).siblings().addClass("media p-3 b-b has-hover");

                $('#CutDetailsDiv').show();
                $("#divCutDetailss").hide();
                $("#CuttDetailsDiv").hide();

                $.ajax({
                    type: "POST",
                    url: "../Cutting/BindsingleCutting",
                    // data: params,
                    data: JSON.stringify({ id: ' ' + id + '' }),
                    contentType: "application/json;charset=utf-8",
                    // dataType: "json",
                    success: function (data) {
                        $('#lblIssuedQty').text(data[0].Weight);
                        $('#hdnCuttingID').val(data[0].CuttingID);
                        $("#lblCutSlipNo").text(data[0].CuttingSlipNo);
                        $("#lblWorkorderno1").text(data[0].WorkorderNo);
                        $("#lblPOQty").text(data[0].QtymentionedinPO);
                        $("#lblCreatedDate").text(jsondateformatconvert1(data[0].CreatedDate));
                        $("#lblWeight").text(data[0].Weight);
                        $("#lblCSno").text(data[0].CuttingSlipNo);
                        $("#lblWorkorderno").text(data[0].WorkorderNo);
                        $("#lblCutWt").text(data[0].CutWeight);
                        $("#lblSection").text(data[0].Section);
                        $("#lblRM").text(data[0].RawMaterial);
                        $("#lblCustName").text(data[0].Name);
                        $("#lblcustomerName1").text(data[0].Name);
                        $("#lblPartName").text(data[0].PartName);
                        $("#lblPartNo").text(data[0].PartNo);
                        $("#lblHeatCode").text(data[0].HeatCode);
                        getOpsInvolved(data[0].poID);

                    },
                    error: function (err) {
                        alert('Error occured');

                    }
                });
            }
        </script>
        <script>

            function getOpsInvolved(poID) {

                $.ajax({

                    type: "POST",
                    url: "../Workorder/getOpsInvolved",
                    data: JSON.stringify({ PoID: '' + poID + '' }),
                    contentType: "application/json;charset=utf-8",
                    //dataType: "json",
                    success: function (data) {
                        var append = new Array();
                        for (var i = 0; i < data.length; i++) {

                            append.push(data[i].operationinvolvedname);

                        }
                        append = append.toString();

                        append = append.replace(/,/g, ", ");
                        $j("#lblOpsinvolved").text(append);
                    }
                });

            }
        </script>
        <script>



        </script>
        <script>
                function saveCuttingDetails() {
                    var cutId = $('#hdnCuttingID').val();
                    var OkCutPcs = $('#txtOkCutPcs').val();
                    var OkCutPcsKgs = $('#txtOkCutPcsKgs').val();
                    var EndPcsNos = $('#txtEndPcsNos').val();
                    var EndPcsKgs = $('#txtEndPcsKgs').val();
                    var RejectedPcs = $('#txtRejectedPcsNos').val();
                    var RejectedPcsKgs = $('#txtRejectedPcsKgs').val();
                    var McBrkDwn = $('#txtMcBrkDwn').val();
                    var McIdleFrom = $('#txtMcIdleFrom').val();
                    var McIdleTo = $('#txtMcIdleTo').val();
                    var McBrkDwnReason = $('#txtMcBrkDwnReason').val();
                    var operationsInvolved = $('#lblOpsinvolved').text();
                    var splitByCutting = operationsInvolved.split("Cutting,")[1];
                   // var nextOperationName = splitByCutting.split(",")[0];
                    if (splitByCutting == undefined) {
                        var nextOperationName = "C";

                    }
                    else {
                        var nextOperationName = splitByCutting.split(",")[0];

                    }
                    if (McIdleFrom != "") {
                        if (McIdleTo == "") {
                            alert("Please Select End Idle Time for breakdown !");
                            return false;
                        }
                        else {
                            if (McBrkDwnReason == "Select") {
                                alert("Please Select reason for breakdown !");
                                return false;
                            }
                        }
                    }
                    if (OkCutPcs == "") {
                        alert("Please Enter Final Cut Pcs (Nos)!");
                        return false;
                    }
                    if (OkCutPcsKgs == "") {
                        alert("Please Enter Final Cut Pcs (Kgs)!");
                        return false;
                    }

                    if (EndPcsNos == "") {
                        alert("Please Enter End Pcs !");
                        return false;
                    }
                    if (EndPcsKgs == "") {
                        alert("Please Enter End Pcs Weight !");
                        return false;
                    }
                    if (RejectedPcs == "") {
                        alert("Please Enter Rejected Pcs !");
                        return false;
                    }
                    if (RejectedPcsKgs == "") {
                        alert("Please Enter Rejected Pcs Weight !");
                        return false;
                    }
                    var sec = $('#lblSection').text();
                    var rm = $('#lblRM').text();
                    $.ajax({
                        type: "POST",
                        url: "../Cutting/SaveCuttingDetails",
                        // data: params,
                        data: JSON.stringify({
                            cutId: ' ' + cutId + '', OkCutPcs: ' ' + OkCutPcs + '', OkCutPcsKgs: ' ' + OkCutPcsKgs + '', EndPcs: ' ' + EndPcsNos + '', EndPcsKgs: ' ' + EndPcsKgs + '', RejectedPcs: ' ' + RejectedPcs + '', RejectedPcsKgs: ' ' + RejectedPcsKgs + '',
                            McIdleFrom: ' ' + McIdleFrom + '', McIdleTo: ' ' + McIdleTo + '', McBrkDwnReason: ' ' + McBrkDwnReason + '', nextOperationName: ' ' + nextOperationName + ' ', sec: ' ' + sec + ' ', rm: ' ' + rm + ' '
                        }),
                        contentType: "application/json;charset=utf-8",
                        // dataType: "json",
                        success: function (data) {
                            alert(data);
                            location.href = '@Url.Action("AllCutting", "Cutting")';

                        },
                        error: function (err) {
                            alert('Error occured');

                        }
                    });

                }
        </script>




        <script>
            function jsondateformatconvert(jsondate) {
                var MyDate_String_Value = jsondate;
                var value = new Date
                    (
                    parseInt(MyDate_String_Value.replace(/(^.*\()|([+-].*$)/g, ''))
                    );
                var date = value.getDate();

                if (date < 10) {
                    date = "0" + date;
                } else {
                    date = date;
                }
                var month = value.getMonth() + 1;
                if (month < 10) {
                    month = "0" + month;
                } else {
                    month = month;
                }
                var year = value.getFullYear();
                var hrs = value.getHours();
                var minutes = value.getMinutes();
                var sec = value.getSeconds();
                var day = value.getDay();

                var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

                var dayName = days[value.getDay()];
                var mnths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                var mnthName = mnths[value.getMonth()];


                var dat = date + "-" + mnthName;
                return dat;
            }
            function jsondateformatconvert1(jsondate) {
                var MyDate_String_Value = jsondate;
                var value = new Date
                    (
                    parseInt(MyDate_String_Value.replace(/(^.*\()|([+-].*$)/g, ''))
                    );
                var date = value.getDate();
                if (date < 10) {
                    date = "0" + date;
                } else {
                    date = date;
                }
                var month = value.getMonth() + 1;
                if (month < 10) {
                    month = "0" + month;
                } else {
                    month = month;
                }
                var year = value.getFullYear();
                var hrs = value.getHours();
                var minutes = value.getMinutes();
                var sec = value.getSeconds();
                var day = value.getDay();

                var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

                var dayName = days[value.getDay()];

                //var d = new Date(dateString);
                //var dayName = d.toString().split(' ')[0];

                var dat = date + "-" + month + "-" + year;
                return dat;
            }

            function jsondateformatconvert2(jsondate) {
                var MyDate_String_Value = jsondate;
                var value = new Date
                    (
                    parseInt(MyDate_String_Value.replace(/(^.*\()|([+-].*$)/g, ''))
                    );
                var date = value.getDate();
                if (date < 10) {
                    date = "0" + date;
                } else {
                    date = date;
                }
                var month = value.getMonth() + 1;
                if (month < 10) {
                    month = "0" + month;
                } else {
                    month = month;
                }
                var year = value.getFullYear();
                var hrs = value.getHours();
                var minutes = value.getMinutes();
                var sec = value.getSeconds();
                var day = value.getDay();

                var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                // var Months = ['Jan', 'Feb', 'Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec' ];
                var dayName = days[value.getDay()];
                // var mnth=
                //var d = new Date(dateString);
                //var dayName = d.toString().split(' ')[0];

                var dat = date + "-" + month + "-" + year;
                return dat;
            }
        </script>

        <script>

        </script>
        @*<script>
                $(function () {
                    $('#txtMcIdleFrom').datetimepicker({
                        format: 'Y/m/d',
                        onShow: function (ct) {
                            this.setOptions({
                                maxDate: jQuery('#txtMcIdleTo').val() ? jQuery('#txtMcIdleTo').val() : false
                            })
                        },
                        timepicker: false
                    });
                    $('#txtMcIdleTo').datetimepicker({
                        format: 'Y/m/d',
                        onShow: function (ct) {
                            this.setOptions({
                                minDate: jQuery('#txtMcIdleFrom').val() ? jQuery('#txtMcIdleFrom').val() : false
                            })
                        },
                        timepicker: false
                    });
                });
            </script>*@

        <script>
            $(document).on("keypress", "input[type=text].Float-Number", function (event) {
                //  $(".Float-Number").keypress(function (event) {
                ///For Positive float
                //if (isNaN(this.value + "" + String.fromCharCode(e.charCode)))
                //    return false;
                $(this).bind("cut copy paste", function (e) {
                    e.preventDefault();
                });
                var value = $("#" + this.id).val();
                //    alert(event.which);
                var iKeyCode = (event.which) ? event.which : event.keyCode
                if (iKeyCode != 46 && iKeyCode != 09 && iKeyCode > 31 && (iKeyCode < 48 || iKeyCode > 57)) {
                    //  alert("Enter Numbers Only");
                    event.preventDefault();
                    return false;
                }
                if (event.which < 45 || event.which > 58 || event.which == 47) {
                    if (event.which != 8) {
                        return false;
                        event.preventDefault();
                    }
                } // prevent if not number/dot

                if (event.which == 46 && value.indexOf('.') != -1) {
                    return false;
                    event.preventDefault();
                } // prevent if already dot

                if (event.which == 45 && value.indexOf('-') != -1) {
                    return false;
                    event.preventDefault();
                } // prevent if already dot

                if (event.which == 45 && value.length > 0) {
                    event.preventDefault();
                } // prevent if already -

                return true;


            });
        </script>
    }

