@model XRP.Models.Paged_ssmtbl_DeliveryChallanModel
@*@model XRP.Models.ssmtbl_DeliveryChallanModel*@
@using XRP.Global;
@{
    ViewBag.Title = "All Delivery Challan";
    ViewBag.Active = "Stock";
    ViewBag.Active1 = "Delivery Challan";
    Layout = "~/Views/Shared/_DesignLayout.cshtml";
}
<link href="~/Content/Validations/jquery-ui.css" rel="stylesheet" />
<style>
    .icon:hover, td:hover {
        cursor: pointer;
    }

    .table-wrapper-scroll-y {
        display: block;
        max-height: 600px;
        overflow-y: auto;
        -ms-overflow-style: -ms-autohiding-scrollbar;
    }

    /*button {
        position: relative;
        left: 90%;
        margin-top: 100%;
    }*/
     #btnSubmit {
        position: absolute;
        bottom: 10%;
        right: 5%;
    }
     #btnPrintDC{
        position: absolute;
        bottom: 6%;
        right: 3%;
    }
    #btnViewPrint {
        position: absolute;
        bottom:10%;
        left: 35%;
    }
    /*#btnDiv {
        position: relative;
        left: 90%;
        margin-top: 100%;
    }*/
    /*.sticky {
      position: fixed;
      top: 0;
      width: 100%;
    }

    .sticky + .content {
      padding-top: 102px;
    }*/
</style>
@*<div class="row">
    <div class="col-md-12">*@
<!-- START DEFAULT DATATABLE -->
<div class="panel panel-default">
    @*<div class="panel-heading">
            <div class="col-md-4">
                <a class="nav-link" href='@Url.Action("NewDCJobDispatch", "DeliveryChallan")'><i class="icon icon-list"></i> New Delivery Challan</a>
            </div>
        </div>*@
    <header class="blue accent-3 relative">
        <div class="container-fluid text-white">
            @*<div class="row p-t-b-10 ">
                <div class="col">*@
            @*<h4>
                    <i class="icon-database"></i>
                    Delivery Challans
                </h4>*@
            @*</div>
                </div>*@
            @*<div class="row justify-content-between">
                    <ul class="nav nav-material nav-material-white responsive-tab" id="v-pills-tab" role="tablist">
                        <li>
                            <a class="nav-link" href='@Url.Action("AllDeliveryChallan", "DeliveryChallan")'><i class="icon icon-home2"></i>All Delivery Challan</a>

                        </li>

                    </ul>
                </div>*@
        </div>
    </header>
    <input type="hidden" id="hdnDispatchNo" />
    <div class="container-fluid">
        <div class="card shadow b-0">
            <div class="row no-gutters">
                <div class="col-md-3 d-none d-md-block text-truncate white b-r">
                    @*<div class="slimScroll" data-height="600">*@
                        <div class="slimScroll">
                            <ul class="list-unstyled">
                                <li>
                                    @*<div class="panel-body panel-body-table">*@
                                    @*<div class="table-responsive">*@
                                    @*<table class="table datatable header-fixed">*@
                                    <table class="table table-bordered table-hover">
                                        @*<thead style="position:fixed" id="myHeader">*@
                                        <thead>
                                            <tr>
                                                @*<th>DIE No</th>*@
                                                <th>
                                                    @*<h4><strong>Delivery Challans</strong> </h4>*@
                                                    <font size="4px">Delivery Challans</font>
                                                    
                                                    <input type="text" class="" id="txt_search" style="display:none;width:20%;height:5%" />
                                                    <i class="icon-search" onclick="search();"></i>
                                                    <br />
                                                    
                                                    <div class="float-left" data-toggle="popover" tabindex="4" data-trigger="focus" data-content='All Delivery Challan' title="Delivery Challan Type">
                                                        <span class="icon icon-circle s-12  mr-1 text-danger" title="All Delivery Challan"></span>
                                                    </div>
                                                    <div class="float-left" data-toggle="popover" tabindex="3" data-trigger="focus" data-content='Repair' title="Delivery Challan Type">
                                                        <span class="icon icon-circle s-12  mr-1 text-success" title="Repair"></span>
                                                    </div>
                                                    <div class="float-left" data-toggle="popover" tabindex="2" data-trigger="focus" data-content='Outsourcing' title="Delivery Challan Type">
                                                        <span class="icon icon-circle s-12  mr-1 text-primary" title="Outsourcing"></span>
                                                    </div>
                                                    <div class="float-left" data-toggle="popover" tabindex="1" data-trigger="focus" data-content='Lab Testing' title="Delivery Challan Type">

                                                        <span class="icon icon-circle s-12  mr-1 text-secondary" title="Lab Testing"></span>
                                                    </div>
                                                    <div class="float-left" data-toggle="popover" data-content='Job Dispatch' tabindex="0" data-trigger="focus" title="Delivery Challan Type">
                                                        <span class="icon icon-circle s-12  mr-1 text-warning" title="Job Dispatch"></span>
                                                    </div>



                                                </th>
                                                @*<th>Type</th>*@
                                                @*<th>PO QTY</th>
                        <th>DATE</th>*@

                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var data in Model.ssmtbl_DeliveryChallanModelList)
                                        {
                                                <tr class="trDelivery">
                                                    @*<tr>*@
                                                    <td style="display:none" class="ftd"><input type="hidden" value="@data.dispatch_id" class="dispatchid1" /></td>
                                                    <td style="display:none" class="ftd1"><input type="hidden" value="@data.delivery_challan_type" class="DeliveryChallanType" /></td>
                                                    <td>
                                                        @*<a href="@Url.Action("AllDCJobDispatch", "DeliveryChallan")?DispatchNo=@data.dispatch_no" class="" title="Delivery Challan">*@
                                                        @*<a href="javascript:myFunction($(dispatchid1).val())">*@

                                                        @if (@data.customer_id != 0)
                                                    {
                                                            <div>
                                                                @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#FCCE54"></span>
                                                                    </div>
                                                                    <div>
                                                                        <h6 class="mt-0 mb-1 font-weight-normal">@data.customer_name</h6>
                                                                      
                                                                        @*<div class="media-body text-truncate">
                                                                            <small class="float-right">
                                                                                <a href="#" class="mr-2 ml-2">
                                                                                    <i class="icon-paperclip"></i>
                                                                                </a>
                                                                            </small>
                                                                          
                                                                        </div>*@
                                                                    </div>

                                                            }
                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#6c757d"></span>
                                                                    </div>
                                                                    <div>
                                                                        @*<strong style="color:black">@data.customer_name</strong>*@
                                                                        <h6 class="mt-0 mb-1 font-weight-normal">@data.customer_name</h6>
                                                                    </div>

                                                            }
                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#03a9f4"></span>
                                                                    </div>
                                                                    <div>
                                                                        <h6 class="mt-0 mb-1 font-weight-normal">@data.customer_name</h6>
                                                                    </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#7dc855"></span>
                                                                    </div>
                                                                    <div>
                                                                        <h6 class="mt-0 mb-1 font-weight-normal">@data.customer_name</h6>
                                                                    </div>
                                                            }
                                                            else { }
                                                                @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                if (@data.die_no != "")
                                                                {
                                                                        <small style="color:grey" title="Die No">@data.die_no &nbsp; </small>
                                                                        <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                        <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                                }

                                                                else
                                                                {
                                                                        <small style="color:grey" title="Part No">@data.Customer_part_no &nbsp; </small>
                                                                        <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                        <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                                }
                                                            }


                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {

                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp;  </small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>

                                                            }
                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp; </small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>

                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp; </small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }

                                                            else { }
                                                            </div>

                                                    }
                                                    else if (@data.vendor_id != 0)
                                                    {
                                                            <div>
                                                                @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#FCCE54"></span>
                                                                    </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#6c757d"></span>
                                                                    </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#03a9f4"></span>
                                                                    </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                    <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                        <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#7dc855"></span>
                                                                    </div>
                                                            }
                                                            else { }
                                                                <div>
                                                                    @*<strong style="color:black">@data.vendor_name</strong>*@
                                                                    <h6 class="mt-0 mb-1 font-weight-normal">@data.vendor_name</h6>
                                                                </div>
                                                                @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp;  </small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }

                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp;  </small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }

                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp;</small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>

                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp;</small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }
                                                            else { }
                                                            </div>

                                                    }
                                                    else
                                                    {
                                                    }
                                                        @*</a>*@

                                                    </td>
                                                </tr>

                                        }
                                        </tbody>


                                    </table>
                                    @*</div>*@
                                    @*</div>*@

                                </li>
                            </ul>
                        </div>
                </div>
                <div class="col-md-9 col-sm-12 white">
                    <div class="card no-b mr-2">
                        <div class="card-header white" id="divalltab">
                            <div class="d-flex justify-content-between">

                                <div class="align-self-end float-right" >
                                    <ul class="nav nav-tabs card-header-tabs nav-material">
                                        <li class="nav-item">

                                            <a class="nav-link active show" id="w3--tab1" data-toggle="tab" href="#w3-tab1" role="tab" aria-controls="tab1" aria-expanded="true" aria-selected="true">Details</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="w3--tab2" data-toggle="tab" href="#w3-tab2" role="tab" aria-controls="tab2" aria-selected="false" style="display:none">Print</a>

                                        </li>

                                    </ul>
                                </div>
                                <div class="align-self-end float-right">
                                    <input type="hidden" id="hdnChalnDCType" />
                                    <h5>
                                        <span class="r-3 badge badge-primary" style="width:100%;color:white;font-size:90%" id="spnChallanType">

                                            <b id="ChallanType"> </b>


                                        </span>
                                    </h5>
                                </div>
                            </div>

                        </div>

                        <div class="card-body no-p">
                            <div class="tab-content">
                                @*<div class="tab-pane fade show active" id="w3-tab1" role="tabpanel" aria-labelledby="w3-tab1" data-height="600">*@
                                    <div class="tab-pane fade show active" id="w3-tab1" role="tabpanel" aria-labelledby="w3-tab1">
                                        @*<div class="card-body  chat-widget p-3">*@
                                        <div class="w-body w-scroll ">
                                            <ul class="list-unstyled">
                                                <li>
                                                    @Html.HiddenFor(model => model.dispatch_char, new { @id = "dispatch_char" })
                                                    @Html.HiddenFor(model => model.dispatch_id, new { @id = "dispatch_id" })
                                                    @* New DC Job Dispatch *@
                                                    <div class="container-fluid animatedParent animateOnce" id="divNewDCJobDispatch" style="display:none">
                                                        <div class="">
                                                            <form action="#">
                                                                <div class="card no-b  no-r">
                                                                    <div class="card-body">
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Dispatch No:

                                                                            </div>
                                                                            @Html.HiddenFor(model => model.customer_id, new { @class = "customer_id" })
                                                                            <div class="form-group col-3 m-0">

                                                                                <label id="dispatch_no" class="Label"></label>
                                                                            </div>

                                                                            <div class="form-group col-3 m-0" id="divcustName">
                                                                                Customer Name:
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                <label class="Label" id="customer_name"></label>
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">

                                                                            <div class="form-group col-3 m-0" id="lblCustomerPONo">

                                                                                Customer PO No:



                                                                            </div>
                                                                            <div class="form-group col-3 m-0">


                                                                                <label class="Label" id="CustomerPONo"></label>


                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                PO Quantity:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                <label class="Label" id="po_qty"></label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                HSN Code:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                <label class="Label" id="HSNCode"></label>
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                Customer Part No:


                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                <label class="Label" id="Customer_part_no"></label>

                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Part Description:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                <label class="Label" id="partDescription"></label>
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                Dispatch Quantity:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                <input type="text" class="form-control r-0 light s-12" id="dispatch_qty" />
                                                                                @*<label class="Label" id="dispatch_qty"></label>*@
                                                                            </div>


                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Mode Of Transport:

                                                                            </div>
                                                                            <div class="form-group col-6 m-0">
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                                                                    <label class="custom-control-label m-0 Label" for="ModRoad">Road</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                                                                    <label class="custom-control-label m-0 Label" for="ModCourier">Courier</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                                                                    <label class="custom-control-label m-0 Label" for="ModHandCarriedBy">By Hand</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                            </div>


                                                                        </div>
                                                                        <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                                                            <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                                                                Vehicle No.:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                                                                <input type="text" class="form-control r-0 light s-12" id="txtvehicleNo" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                                                                Courier Tracker Id:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                                                                <input type="text" class="form-control r-0 light s-12" id="txtcourierTrackerId" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                                                                Person Name:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="personName" style="display:none">
                                                                                <input type="text" class="form-control r-0 light s-12" id="txtpersonName" />

                                                                            </div>
                                                                        </div>


                                                                    </div>


                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>

                                                    @* New DC Lab Testing *@
                                                    <div class="container-fluid animatedParent animateOnce" id="divNewDCLabTesting" style="display:none">
                                                        <div class="">
                                                            <form action="#">
                                                                <div class="card no-b  no-r">
                                                                    <div class="card-body">
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Dispatch No:

                                                                            </div>
                                                                            @Html.HiddenFor(model => model.vendor_id, new { @class = "vendor_id" })
                                                                            <div class="form-group col-8 m-0">

                                                                                <label id="dispatch_noLab" class="Label"></label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0" id="divcustName">
                                                                                Vendor Name:
                                                                            </div>
                                                                            <div class="form-group col-8 m-0">
                                                                                <label class="Label" id="vendor_name"></label>
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Raw Material Test:
                                                                            </div>
                                                                            <div class="form-group col-8 m-0">
                                                                                <label id="spn_rmtest" class="Label"></label>
                                                                                @*<select class="select2" name="OperationsInvolved[]" multiple="multiple">
                                            @for (int i = 0; i < Model.ssmtbl_Feasibility_RawMaterialTestModel.Count; i++)
                                            {
                                            <option value="@Model.ssmtbl_Feasibility_RawMaterialTestModel[i].Raw_Material_Test_Select" class="form-control r-0 light s-12">

                                                @Model.ssmtbl_Feasibility_RawMaterialTestModel[i].Raw_Material_Test_Text

                                            </option>

                                            }

                                        </select>*@

                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Expected Report Date:


                                                                            </div>
                                                                            <div class="form-group col-8 m-0">
                                                                                @Html.TextBoxFor(model => model.expected_report_date, "{0:dd/MM/yyyy}", new { @class = "date-time-picker form-control r-0 light s-12", @id = "expected_report_date" })
                                                                                @Html.ValidationMessageFor(model => model.expected_report_date, null, new { @class = "alert-danger" })
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">

                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">


                                                                        </div>
                                                                        @*<div class="form-row mt-1 m-2">
                                    <div class="form-group col-3 m-0">
                                        Mode Of Transport:

                                    </div>
                                    <div class="form-group col-6 m-0">
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                            <label class="custom-control-label m-0" for="ModRoad">Road</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                            <label class="custom-control-label m-0" for="ModCourier">Courier</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                            <label class="custom-control-label m-0" for="ModHandCarriedBy">Hand Carried By</label>
                                        </div>
                                    </div>
                                    <div class="form-group col-3 m-0">

                                    </div>


                                </div>
                                <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                    <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                        Vehicle No.:

                                    </div>
                                    <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                        <input type="text" class="" id="txtvehicleNo" />

                                    </div>
                                    <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                        Courier Tracker Id:

                                    </div>
                                    <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                        <input type="text" class="" id="txtcourierTrackerId" />

                                    </div>
                                    <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                        Person Name:

                                    </div>
                                    <div class="form-group col-3 m-0" id="personName" style="display:none">
                                        <input type="text" class="" id="txtpersonName" />

                                    </div>
                                </div>*@


                                                                    </div>

                                                                    @*<div class="card-body" id="btnDiv">

                                <div class="form-row mt-1">
                                    <div class="col-md-2" id="Download">



                                    </div>
                                    <div class="form-group col-8 m-0">

                                    </div>

                                    <div class="form-group col-2 m-0 custom-control-inline">
                                        <div id="submitDiv" align="right">
                                            <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                                        </div>&nbsp;&nbsp;
                                        <div id="loaderDiv" style="display:none;">
                                            <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                        </div>



                                    </div>
                                </div>

                            </div>*@
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>

                                                    @* New DC Outsourcing *@
                                                    <div class="container-fluid animatedParent animateOnce" id="divNewDCOutsourcing" style="display:none">
                                                        <div class="">
                                                            <form action="#">
                                                                <div class="card no-b  no-r">
                                                                    <div class="card-body">
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Dispatch No:

                                                                            </div>
                                                                            @Html.HiddenFor(model => model.customer_id, new { @class = "customer_id" })
                                                                            <div class="form-group col-3 m-0">

                                                                                <label id="dispatch_noout" class="Label"></label>
                                                                            </div>

                                                                            <div class="form-group col-3 m-0" id="divcustName">
                                                                                Vendor Name:
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                <label class="Label" id="Vendor_nameOut"></label>
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">

                                                                            <div class="form-group col-3 m-0" id="lblCustomerPONo">

                                                                                Vendor PO No:



                                                                            </div>
                                                                            <div class="form-group col-3 m-0">


                                                                                <label class="Label" id="VendorPONoOut"></label>


                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                Die No.:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                <label class="Label" id="vpoDieNo"></label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Process:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                <input type="text" class="form-control r-0 light s-12" id="ProcessOut" />
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                Expected Date:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                                @Html.TextBoxFor(model => model.expected_report_date, "{0:dd-MMM-yyyy}", new { @class = "date-time-picker form-control r-0 light s-12", @id = "expected_report_date" })
                                                                                @Html.ValidationMessageFor(model => model.expected_report_date, null, new { @class = "alert-danger" })
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Remark:


                                                                            </div>
                                                                            <div class="form-group col-9 m-0">
                                                                                <input type="text" class="form-control r-0 light s-12" id="RemarkOut">


                                                                            </div>



                                                                        </div>
                                                                        @*<div class="form-row mt-1 m-2">
                                    <div class="form-group col-3 m-0">
                                        Mode Of Transport:

                                    </div>
                                    <div class="form-group col-6 m-0">
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                            <label class="custom-control-label m-0" for="ModRoad">Road</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                            <label class="custom-control-label m-0" for="ModCourier">Courier</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                            <label class="custom-control-label m-0" for="ModHandCarriedBy">Hand Carried By</label>
                                        </div>
                                    </div>
                                    <div class="form-group col-3 m-0">

                                    </div>


                                </div>
                                <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                    <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                        Vehicle No.:

                                    </div>
                                    <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                        <input type="text" class="" id="txtvehicleNo" />

                                    </div>
                                    <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                        Courier Tracker Id:

                                    </div>
                                    <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                        <input type="text" class="" id="txtcourierTrackerId" />

                                    </div>
                                    <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                        Person Name:

                                    </div>
                                    <div class="form-group col-3 m-0" id="personName" style="display:none">
                                        <input type="text" class="" id="txtpersonName" />

                                    </div>
                                </div>*@


                                                                    </div>

                                                                    @*<div class="card-body" id="btnDiv">

                                <div class="form-row mt-1">
                                    <div class="col-md-2" id="Download">



                                    </div>
                                    <div class="form-group col-8 m-0">

                                    </div>

                                    <div class="form-group col-2 m-0 custom-control-inline">
                                        <div id="submitDiv" align="right">
                                            <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                                        </div>&nbsp;&nbsp;
                                        <div id="loaderDiv" style="display:none;">
                                            <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                        </div>



                                    </div>
                                </div>

                            </div>*@
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>

                                                    @* New DC Repair *@
                                                    <div class="container-fluid animatedParent animateOnce" id="divNewDCRepair" style="display:none">
                                                        <div class="">
                                                            <form action="#">
                                                                <div class="card no-b  no-r">
                                                                    <div class="card-body">
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Dispatch No:

                                                                            </div>
                                                                            @Html.HiddenFor(model => model.vendor_id, new { @class = "vendor_id" })
                                                                            <div class="form-group col-8 m-0">

                                                                                <label id="dispatch_noRepair" class="Label"></label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0" id="divcustName">
                                                                                Vendor Name:
                                                                            </div>
                                                                            <div class="form-group col-8 m-0">
                                                                                <label class="Label" id="vendor_nameRepair"></label>
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Part Description:

                                                                            </div>

                                                                            <div class="form-group col-8 m-0">


                                                                                <label class="Label" id="partDescriptionRepair"></label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Expected Report Date:


                                                                            </div>
                                                                            <div class="form-group col-4 m-0">
                                                                                @Html.TextBoxFor(model => model.expected_report_date, "{0:dd-MMM-yyyy}", new { @class = "date-time-picker form-control r-0 light s-12", id = "expected_report_date" })
                                                                                @Html.ValidationMessageFor(model => model.expected_report_date, null, new { @class = "alert-danger" })
                                                                            </div>
                                                                            <div class="form-group col-4 m-0">


                                                                            </div>
                                                                        </div>

                                                                        @*<div class="form-row mt-1 m-2">
                                    <div class="form-group col-4 m-0">
                                        Part Description:

                                    </div>
                                    <div class="form-group col-8 m-0">

                                        <label class="Label" id="partDescription"></label>
                                    </div>
                                </div>*@
                                                                        @*<div class="form-row mt-1 m-2">
                                    <div class="form-group col-3 m-0">
                                        Dispatch Quantity:

                                    </div>
                                    <div class="form-group col-3 m-0">
                                        <input type="text" class="" id="dispatch_qty" />

                                    </div>


                                </div>
                                <div class="form-row mt-1 m-2">
                                    <div class="form-group col-3 m-0">
                                        Mode Of Transport:

                                    </div>
                                    <div class="form-group col-6 m-0">
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                            <label class="custom-control-label m-0" for="ModRoad">Road</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                            <label class="custom-control-label m-0" for="ModCourier">Courier</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                            <label class="custom-control-label m-0" for="ModHandCarriedBy">Hand Carried By</label>
                                        </div>
                                    </div>
                                    <div class="form-group col-3 m-0">

                                    </div>


                                </div>
                                <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                    <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                        Vehicle No.:

                                    </div>
                                    <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                        <input type="text" class="" id="txtvehicleNo" />

                                    </div>
                                    <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                        Courier Tracker Id:

                                    </div>
                                    <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                        <input type="text" class="" id="txtcourierTrackerId" />

                                    </div>
                                    <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                        Person Name:

                                    </div>
                                    <div class="form-group col-3 m-0" id="personName" style="display:none">
                                        <input type="text" class="" id="txtpersonName" />

                                    </div>
                                </div>*@


                                                                    </div>

                                                                    @*<div class="card-body" id="btnDiv">

                                <div class="form-row mt-1">
                                    <div class="col-md-2" id="Download">



                                    </div>
                                    <div class="form-group col-8 m-0">

                                    </div>

                                    <div class="form-group col-2 m-0 custom-control-inline">
                                        <div id="submitDiv" align="right">
                                            <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                                        </div>&nbsp;&nbsp;
                                        <div id="loaderDiv" style="display:none;">
                                            <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                        </div>



                                    </div>
                                </div>

                            </div>*@
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>

                                                </li> </ul>

                                        </div>

                                        @*</div>*@
                                    </div>
                                    <div class="tab-pane fade text-center" id="w3-tab2" role="tabpanel" aria-labelledby="w3-tab2">
                                        <div class="page" id="printpdf">

                                            <div class="container">
                                                @*<div class="invoice white shadow">*@
                                                <div id="viewchallan" class="">
                                                    <br />
                                                    <center>
                                                        <div id="challenprint">
                                                            <table>
                                                                <tr><td colspan="6" align="center" color="black" style="padding-bottom:10px;"><h4>Delivery Challan</h4></td></tr>
                                                               
                                                                <tr>
                                                                    <td rowspan="3" width="90px" align="left">
                                                                        <img src="~/NewCssAndTheme/img/ssmlogo.jpg" alt="" width="50" height="60" />
                                                                        @*<img src="~/NewCssAndTheme/img/SSMlogoNew.png" alt="" width="50" height="50" />*@
                                                                    </td>
                                                                    <td rowspan="3" colspan="3" width="250px">
                                                                        <span>
                                                                            Shree Siddheshwari Metal Forging Pvt. Ltd. <br />
                                                                            <small> J-489/490 MIDC Bhosari Pune - 411026</small> <br />
                                                                            <small>Off.: 020- 27130120/ 27130570</small>
                                                                        </span>
                                                                    </td>

                                                                    <td width="90">Challan No.:</td>
                                                                    <td width="90"><span id="spn_challanno"></span></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>Date:</td>
                                                                    <td><span id="spn_date1"></span></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>Ref. No.:</td>
                                                                    <td><span id="spn_refno"></span></td>
                                                                </tr>

                                                                <tr>
                                                                    <td rowspan="2" colspan="4">
                                                                        To,<br />
                                                                        <span id="spn_custname"></span>
                                                                    </td>
                                                                    <td>Date:</td>
                                                                    <td><span id="spn_date2"></span></td>

                                                                </tr>
                                                                <tr>
                                                                    <td>Vehicle No.:</td>
                                                                    <td><span id="spn_vehicleno"></span></td>

                                                                </tr>
                                                                <tr>
                                                                    <td colspan="6" id="tditemslist">
                                                                        <table id="tblDCItems" class="table">

                                                                            <thead>
                                                                                <tr id="tritems">
                                                                                    <td width="10%">Sr.No.</td>
                                                                                    <td width="80%">Description</td>
                                                                                    <td width="10%">Quantity</td>
                                                                                </tr>
                                                                            </thead>

                                                                            <tbody id="tbodyDCItems"></tbody>
                                                                        </table>
                                                                    </td>
                                                                </tr>

                                                                <tr><td colspan="6">Received the above goods in good order & condition.</td></tr>
                                                                <tr><td rowspan="3" colspan="2"><br />Receiver's Signature</td> <td rowspan="3" colspan="5"><br />For Shree Siddheshwari Metal Forging Pvt. Ltd.</td> </tr>
                                                                <tr></tr>
                                                                <tr></tr>
                                                                <tr><td colspan="5"></td><td>MT /FM - 05</td></tr>
                                                                <tr><td colspan="6" align="right">This is autogenerated</td></tr>

                                                            </table>
                                                        </div>
                                                    </center>

                                                </div>

                                                @*</div>*@

                                            </div>
                                        </div>

                                    </div>




                                </div>
                           
                        </div>
                    </div>

                </div>
                <div class="" id="btnDiv">
                    @*<div class="form-group col-10"></div>*@

                    @*<div class="form-group col-6">*@




                    @*<div class="form-group col-11">*@
                        <div id="divPrintView" class="custom-control-inline float-left">
                            <button type="button" class="btn btn-primary btn-sm" id="btnViewPrint" value="Update"><i class="icon-eye mr-2"></i>View</button>
                        </div>
                        <div id="submitDiv" class="custom-control-inline float-right">
                            <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                        </div>
                        <div id="loaderDiv" style="display:none;" class="custom-control-inline float-right m-3">
                            <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                        </div>
                   
                    @*</div>*@
                    @*</div>*@

                </div>
                <a class="btn btn-sm  btn-primary float-right m-4 footer" id="btnPrintDC" style="display:none;"><i class="icon icon-print"></i> Print</a>
                @*<div class="form-group col-10 m-0"></div>
                    <div class="form-group col-2 m-0 float-right">
                        <div id="submitDiv" align="right">
                            <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                        </div>&nbsp;&nbsp;
                        <div id="loaderDiv" style="display:none;">
                            <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                        </div>



                    </div>*@

            </div>
        </div>
    </div>
    </div>
    <script type="text/javascript" src="~/Scripts/jquery-1.10.2.js"></script>

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>

    <script src="~/Content/Validations/JqueryUi.js"></script>

    @*<script>
        window.onscroll = function() {myFunction()};

        var header = document.getElementById("myHeader");
        var sticky = header.offsetTop;

        function myFunction() {
          if (window.pageYOffset > sticky) {
            header.classList.add("sticky");
          } else {
            header.classList.remove("sticky");
          }
        }
                    </script>*@
    <script>
        var $j = jQuery.noConflict(true);
        $j(document).ready(function () {
            $("#divalltab").hide();
            document.body.style.overflow = 'hidden';
            var element = document.getElementById("hdnChalnDCType").value;
            if (element == "") {
                $("#spnChallanType").removeClass("r-3 badge badge-primary");
                $("#btnDiv").hide();
            } else {
                $("#spnChallanType").show();
                $("#btnDiv").show();
            }
            document.body.style.overflow = 'hidden';
            $('[data-toggle="popover"]').popover({
                placement: 'top'
            });
            var Dispatchno = getUrlVars()["DispatchNo"];
            //alert(Dispatchno);
            $("#hdnDispatchNo").val(Dispatchno);

            $(function () {
                $('.date-time-picker').datetimepicker({
                    format: 'd/m/Y',
                    timepicker: false,

                });
            });
        });
        function getUrlVars() {
            var vars = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                vars[key] = value;
            });
            return vars;
        }
        @*location.href = '@Url.Action("AllDCJobDispatch", "DeliveryChallan")?DispatchNo=' + Dispatchno;*@
    </script>
    <script>
        $("#btnSubmit").click(function () {
            $("#w3--tab2").show();
            $("#w3--tab2").click();

        });
        $("#btnViewPrint").click(function () {
            $("#btnDiv").hide();
           
        $("#w3--tab2").show();
        $("#w3--tab2").click();
        $("#btnPrintDC").show();
        });
        $("#w3--tab1").click(function () {
            $("#w3--tab2").hide();
            $("#btnDiv").show();
            $("#btnPrintDC").hide();
        });

    </script>
    <script>
        $("#btnPrintDC").click(function () {
            var dispatchNo = $('#dispatch_no').text();
            printDeliveryC('challenprint');
        });

        function printDeliveryC(challenprint) {

            var divElements = document.getElementById('challenprint').innerHTML;
            var oldPage = document.body.innerHTML;
            document.body.innerHTML =
              "<html><head><title></title></head><body>" +
              divElements + "</body>";
            window.print();
            document.body.innerHTML = oldPage;

        }



    </script>
    <script>
        $j('#ModRoad').click(function () {
            $j('#lblvehicleNo').show();
            $j('#vehicleNo').show();
            $j('#lblcourierTrackerId').hide();
            $j('#courierTrackerId').hide();
            $j('#lblpersonName').hide();
            $j('#personName').hide();
        });
        $j('#ModCourier').click(function () {
            $('#lblvehicleNo').hide();
            $('#vehicleNo').hide();
            $('#lblcourierTrackerId').show();
            $('#courierTrackerId').show();
            $('#lblpersonName').hide();
            $('#personName').hide();
        });
        $j('#ModHandCarriedBy').click(function () {
            $('#lblvehicleNo').hide();
            $('#vehicleNo').hide();
            $('#lblcourierTrackerId').hide();
            $('#courierTrackerId').hide();
            $('#lblpersonName').show();
            $('#personName').show();
        });
    </script>
    <script type="text/javascript">
        $j(".trDelivery").click(function () {
            $(this).addClass("p-3 b-b light border-left border-primary");
            $(this).siblings().removeClass("p-3 b-b light border-left border-primary");
            $("#divalltab").show();
            $("#btnDiv").show();
            $("#w3--tab1").click();
            $("#w3--tab2").hide();
            $("#btnPrintDC").hide();
            //$("#challenprint").hide();
            //$("#divNewDCJobDispatch").show();
            var dispatchId = $(this).closest("tr").find("td .dispatchid1").val();
            var DeliveryChallanType = $(this).closest("tr").find("td .DeliveryChallanType").val();
            $.ajax
                                      ({
                                          type: "POST",
                                          url: "../DeliveryChallan/GetOneDelivery",
                                          data: JSON.stringify({
                                              DispatchId: ' ' + dispatchId + '', DeliveryChallanType: ' ' + DeliveryChallanType + ''
                                          }),
                                          contentType: "application/json;charset=utf-8",
                                          //dataType: "json",
                                          success: function (data) {
                                              //document.getElementById('dispatch_qty').style.border = 'black';
                                              $j('#dispatch_no').text(data.dispatch_no);
                                              $j('#dispatch_noLab').text(data.dispatch_no);
                                              $j('#dispatch_noout').text(data.dispatch_no);
                                              $j('#dispatch_noRepair').text(data.dispatch_no);
                                              $j('#spn_challanno').text(data.dispatch_no);
                                              $j('#spn_date1').text(jsondateformatconvert(data.CreatedOn));
                                              $j('#spn_date2').text(jsondateformatconvert(data.UpdatedOn));
                                              if (data.customer_id != 0) {
                                                  $j('#divcustName').text("Customer Name:");
                                                  $j('#lblCustomerPONo').text("Customer PO No:");
                                                  $j('#customer_name').text(data.customer_name);
                                                  $j('#customer_id').text(data.customer_id);
                                                  $j('#CustomerPONo').text(data.CustomerPONo);
                                                  $j('#spn_custname').text(data.customer_name);
                                              } else {
                                                  $j('#customer_name').text(data.vendor_name);
                                                  $j('#vendor_nameRepair').text(data.vendor_name);
                                                  $j('#vendor_nameOut').text(data.vendor_name);
                                                  $j('#divcustName').text("Vendor Name:");
                                                  $j('#lblCustomerPONo').text("Vendor PO No:");
                                                  $j('#CustomerPONo').text(data.vendor_po_no);
                                                  $j('#spn_custname').text(data.vendor_name);
                                              }
                                              $j('#ChallanType').text(data.delivery_challan_type);
                                              $j('#hdnChalnDCType').text(data.delivery_challan_type);
                                              if (data.delivery_challan_type == "Repair") {
                                                  var element = document.getElementById("spnChallanType");
                                                  element.className = "r-3 badge badge-success";
                                                  $("#divNewDCJobDispatch").hide();
                                                  $("#divNewDCLabTesting").hide();
                                                  $("#divNewDCRepair").show();
                                                  $("#divNewDCOutsourcing").hide();
                                                  $j('#partDescriptionRepair').text(data.part_description);

                                              }
                                              else if (data.delivery_challan_type == "Job Dispatch") {
                                                  var element = document.getElementById("spnChallanType");
                                                  element.className = "r-3 badge badge-warning";
                                                  $("#divNewDCJobDispatch").show();
                                                  $("#divNewDCLabTesting").hide();
                                                  $("#divNewDCRepair").hide();
                                                  $("#divNewDCOutsourcing").hide();
                                              }
                                              else if (data.delivery_challan_type == "Outsourcing") {
                                                  var element = document.getElementById("spnChallanType");
                                                  element.className = "r-3 badge badge-primary";
                                                  $("#divNewDCJobDispatch").hide();
                                                  $("#divNewDCLabTesting").hide();
                                                  $("#divNewDCRepair").hide();
                                                  $("#divNewDCOutsourcing").show();
                                                  $j('#VendorPONoOut').text(data.vendor_po_no);
                                                  $j('#Vendor_nameOut').text(data.vendor_name);
                                              }
                                              else if (data.delivery_challan_type == "Lab Testing") {
                                                  var element = document.getElementById("spnChallanType");
                                                  element.className = "r-3 badge badge-secondary";
                                                  $("#divNewDCJobDispatch").hide();
                                                  $("#divNewDCLabTesting").show();
                                                  $("#divNewDCRepair").hide();
                                                  $("#divNewDCOutsourcing").hide();
                                                  getrmtest(dispatchId, DeliveryChallanType);
                                              } else if (data.delivery_challan_type == "") {
                                                  var element = document.getElementById("spnChallanType");
                                                  element.className = "";
                                                  $("#btnSubmit").hide();

                                              }

                                              $j('#vendor_id').text(data.vendor_id);
                                              $j('#vendor_name').text(data.vendor_name);

                                              $j('#po_qty').text(data.po_qty);
                                              $j('#HSNCode').text(data.HSNCode);
                                              $j('#Customer_part_no').text(data.Customer_part_no);
                                              $j('#partDescription').text(data.part_description);


                                              getDeliveryDetails(data.dispatch_no);
                                          },
                                          error: function (err) {
                                              // alert('Error occured');
                                          }
                                      });

        });

        $j("#WOM").autocomplete({
            source: function (request, response) {
                var customer = new Array();
                var po_no = $j('#CustomerPONo').val();
                $j.ajax({
                    url: "../DeliveryChallan/getWoNo",
                    type: "POST",
                    dataType: "json",
                    data: { Prefix: request.term, pono: po_no },
                    success: function (data) {
                        response($j.map(data, function (item) {
                            return {
                                label: item.Text,
                                Id: item.Value
                            }
                        }));
                    }
                });
            },
            minLength: 1,
            select: function (event, ui) {
                $(this).val(ui.item.Id);
                $j.ajax({
                    url: "../DeliveryChallan/getWoNoDetails",
                    type: "POST",
                    dataType: "json",
                    data: { Wono: ui.item.label },
                    success: function (data) {
                        //console.log(data);
                        $j('#WOM').val(data.Wono);
                        $j('#MaterialGradeM').val(data.Rawmaterial);
                        $j('#SectionM').val(data.section);
                        $j('#CutWeightM').val(data.cutweight);
                        $j('#WOBalanceM').val(0);
                        $j('#QtyM').focus();
                    }
                });
            }
        });

    </script>
    <script>

        $(".trDelivery").click(function () {

            window.scrollBy(0, 50); //for scroll top
            window.scrollBy(0, -50); //for scroll down
        });
    </script>
    <script>
        function getrmtest(dispatchId, DeliveryChallanType) {
            $j.ajax({
                url: "../DeliveryChallan/Getfisrmtest",
                type: "POST",
                dataType: "json",
                data: { dispatchId: dispatchId, DeliveryChallanType: DeliveryChallanType },
                success: function (data) {
                    $("#tbodyDCItems").empty();

                    var append =  new Array();
                    for (var i = 0; i < data.length; i++) {
                       
                       append.push(data[i].type);
                    }
                    $j("#spn_rmtest").text(append);
                    //alert(append);
                }
            });
        }
        function getDeliveryDetails(dispatchNo) {
            $j.ajax({
                url: "../DeliveryChallan/GetOneDeliveryDetails",
                type: "POST",
                dataType: "json",
                data: { dispatchNo: dispatchNo },
                success: function (data) {
                    $("#tbodyDCItems").empty();

                    var srno = 1;
                    //Append each row to html table
                    for (var i = 0; i < data.length; i++) {

                        tr = $('<tr />');
                        tr.append("<td align='right'>" + srno + "</td>");
                        tr.append("<td>" + data[i].description + "</td>");
                        tr.append("<td align='right'>" + data[i].qty + "</td>");
                        $('#tblDCItems').append(tr);
                        srno++;
                    }

                }
            });
        }
    </script>
    <script>
        function jsondateformatconvert(jsondate) {
            var MyDate_String_Value = jsondate;
            var value = new Date
            (
            parseInt(MyDate_String_Value.replace(/(^.*\()|([+-].*$)/g, ''))
            );
            var date = value.getDate();
            if (date < 10) {
                date = "0" + date;
            } else {
                date = date;
            }
            var month = value.getMonth() + 1;
            if (month < 10) {
                month = "0" + month;
            } else {
                month = month;
            }
            var year = value.getFullYear();
            var dat = date + "-" + month + "-" + year;
            return dat;
        }
        function search() {
            $("#txt_search").show();

        }
    </script>
    @*</div>
        </div>*@
