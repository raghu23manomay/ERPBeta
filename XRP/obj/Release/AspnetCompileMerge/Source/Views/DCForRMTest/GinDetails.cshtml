
@{
    ViewBag.Title = "GinDetails";
    Layout = "~/Views/Shared/_DesignLayout.cshtml";
}

<style>
    .mosurhandsymbol {
        cursor: pointer;
    }

    .table-wrapper-scroll-y {
        display: block;
        max-height: 600px;
        overflow-y: auto;
        -ms-overflow-style: -ms-autohiding-scrollbar;
    }
</style>

<fieldset>
    <header class="blue accent-3 relative">
        <div class="container-fluid text-white">
            <div class="row p-t-b-10 ">
                <div class="col">
                    <h4>
                        <i class="icon-database"></i>
                    Goods Inwards Details
                    </h4>
                </div>
            </div>
           
        </div>

    </header>
    <!-- PAGE TITLE -->
  
    <div class="container-fluid animatedParent animateOnce">
        <div class="tab-content my-3" id="v-pills-tabContent">
            <div class="tab-pane animated fadeInUpShort show active" id="v-pills-all" role="tabpanel" aria-labelledby="v-pills-all-tab">
                <div class="row my-3">
                    <div class="col-md-12">
                        <div class="card r-0 shadow">
                            <div class="">
                                <form action="">


                                    <div class="row">
                                        <div class="col-md-12">
                                            <!-- START DEFAULT DATATABLE -->
                                            <div class="panel panel-default">

                                                <div class="panel-body panel-body-table">
                                                    <div class="">
                                                        <br />
                                                        <table class="table table-striped table-hover" style="width:100%" id="tbl_gindetails" cellspacing="0">
                                                            <thead>
                                                                <tr>
                                                                    <th style='display:none;'>GinD ID</th>
                                                                    <th>GIN No</th>
                                                                    <th>Heat Code</th>
                                                                    <th>Heat Number</th>
 
                                                                </tr>
                                                            </thead>
                                                            <tbody id="tbody_tbl_gindetails">

                                                              
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



</fieldset>

<script type="text/javascript" src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Content/Validations/JqueryUi.js"></script>


<script>
        //var $j = jQuery.noConflict(true);
        $(document).ready(function () {
            //$('#tbl_gindetails').DataTable({

            //    "ordering": false,
            //    "info": false
            //});

            fetchgindetails();
        
            $("#tbl_gindetails").on('click', 'tr:not(:first)', function (e) {

                var currentRow = $(this).closest("tr");
                var id = currentRow.find("td:eq(0)").text();
                id = id.trim();
                
                location.href="@Url.Action("DCForRMTest", "DCForRMTest")?ginid="+id;
               
            });
        });
</script>
<script>
   
    function fetchgindetails() {

        var id = 0;
        $.ajax({
            type: "POST",
            url: "../DCForRMTest/BindGinDeatails",
            // data: params,
            data: JSON.stringify({ id: ' ' + id + '' }),
            contentType: "application/json;charset=utf-8",
            // dataType: "json",
            success: function (status) {

                //code for display table
                $("#tbody_tbl_gindetails").empty();
                //Append each row to html table
                for (var i = 0; i < status.length; i++) {
                   
                    tr = $('<tr class="mosurhandsymbol" />');
                 
                    tr.append("<td style='display:none;'>" + status[i].gi_det_auto_id + "</td>");
                    tr.append("<td>" + status[i].gin_number + "</td>");
                    tr.append("<td>" + status[i].heat_code + "</td>");
                    tr.append("<td>" + status[i].heat_number + "</td>");
                
                   $('#tbl_gindetails').append(tr);
                }
              
            },
            error: function (err) {
                alert('Error occured');

            }
        });
    }
</script>