@model XRP.Models.Paged_ssmtbl_DeliveryChallanModel
@*@model XRP.Models.ssmtbl_DeliveryChallanModel*@
@using XRP.Global;
@{
    ViewBag.Title = "All Delivery Challan";
    ViewBag.Active = "Stock";
    ViewBag.Active1 = "Delivery Challan";
    Layout = "~/Views/Shared/_DesignLayout.cshtml";
}
<link href="~/Content/Validations/jquery-ui.css" rel="stylesheet" />
<style>
    .icon:hover, td:hover {
        cursor: pointer;
    }

    .table-wrapper-scroll-y {
        display: block;
        max-height: 600px;
        overflow-y: auto;
        -ms-overflow-style: -ms-autohiding-scrollbar;
    }

    /*button {
        position: relative;
        left: 90%;
        margin-top: 100%;
    }*/
    #btnSubmit {
        position: absolute;
        bottom: 12%;
        right: 5%;
    }

    /*#btnPrintDC {
        position: absolute;
        bottom: 12%;
        right: 5%;
    }*/

    #btnViewPrint {
        position: absolute;
        bottom: 12%;
        left: 35%;
    }
    /*#btnDiv {
        position: relative;
        left: 90%;
        margin-top: 100%;
    }*/
    /*.sticky {
      position: fixed;
      top: 0;
      width: 100%;
    }

    .sticky + .content {
      padding-top: 102px;
    }*/
</style>
@*<div class="row">
    <div class="col-md-12">*@
<!-- START DEFAULT DATATABLE -->

<div class="panel panel-default">
    @*<div class="panel-heading">
            <div class="col-md-4">
                <a class="nav-link" href='@Url.Action("NewDCJobDispatch", "DeliveryChallan")'><i class="icon icon-list"></i> New Delivery Challan</a>
            </div>
        </div>*@
    <header class="blue accent-3 relative">
        <div class="container-fluid text-white">
            @*<div class="row p-t-b-10 ">
                <div class="col">*@
            @*<h4>
                    <i class="icon-database"></i>
                    Delivery Challans
                </h4>*@
            @*</div>
                </div>*@
            @*<div class="row justify-content-between">
                    <ul class="nav nav-material nav-material-white responsive-tab" id="v-pills-tab" role="tablist">
                        <li>
                            <a class="nav-link" href='@Url.Action("AllDeliveryChallan", "DeliveryChallan")'><i class="icon icon-home2"></i>All Delivery Challan</a>

                        </li>

                    </ul>
                </div>*@
        </div>
    </header>
    <input type="hidden" id="hdnDispatchNo" />
    <div class="container-fluid">
        <div class="card shadow b-0">
            <div class="row no-gutters">
                <div class="col-md-3 d-none d-md-block text-truncate white b-r">
                    @*<div class="slimScroll" data-height="600">*@
                    <div class="slimScroll">
                        <ul class="list-unstyled">
                            <li>
                                @*<div class="panel-body panel-body-table">*@
                                @*<div class="table-responsive">*@
                                @*<table class="table datatable header-fixed">*@
                                <table class="table table-bordered table-hover">
                                    @*<thead style="position:fixed" id="myHeader">*@
                                    <thead>
                                        <tr>
                                            @*<th>DIE No</th>*@
                                            <th>
                                                @*<h4><strong>Delivery Challans</strong> </h4>*@
                                                <font size="4px">Delivery Challans</font>

                                                <input type="text" class="" id="txt_search" style="display:none;width:20%;height:5%" />
                                                <i class="icon-search" onclick="search();"></i>
                                                <br />

                                                <div class="float-left" data-toggle="popover" tabindex="4" data-trigger="focus" data-content='All Delivery Challan' title="Delivery Challan Type">
                                                    <span class="icon icon-circle s-12  mr-1 text-danger" title="All Delivery Challan"></span>
                                                </div>
                                                <div class="float-left" data-toggle="popover" tabindex="3" data-trigger="focus" data-content='Repair' title="Delivery Challan Type">
                                                    <span class="icon icon-circle s-12  mr-1 text-success" title="Repair"></span>
                                                </div>
                                                <div class="float-left" data-toggle="popover" tabindex="2" data-trigger="focus" data-content='Outsourcing' title="Delivery Challan Type">
                                                    <span class="icon icon-circle s-12  mr-1 text-primary" title="Outsourcing"></span>
                                                </div>
                                                <div class="float-left" data-toggle="popover" tabindex="1" data-trigger="focus" data-content='Lab Testing' title="Delivery Challan Type">

                                                    <span class="icon icon-circle s-12  mr-1 text-secondary" title="Lab Testing"></span>
                                                </div>
                                                <div class="float-left" data-toggle="popover" data-content='Job Dispatch' tabindex="0" data-trigger="focus" title="Delivery Challan Type">
                                                    <span class="icon icon-circle s-12  mr-1 text-warning" title="Job Dispatch"></span>
                                                </div>



                                            </th>
                                            @*<th>Type</th>*@
                                            @*<th>PO QTY</th>
                                                <th>DATE</th>*@

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var data in Model.ssmtbl_DeliveryChallanModelList)
                                        {
                                            <tr class="trDelivery">
                                                @*<tr>*@
                                                <td style="display:none" class="ftd"><input type="hidden" value="@data.dispatch_id" class="dispatchid1" /></td>
                                                <td style="display:none" class="ftd"><input type="hidden" value="@data.customer_id" class="customerid" /></td>
                                                <td style="display:none" class="ftd12"><input type="hidden" value="@data.auto_id" class="dcRMTestID" /></td>
                                                <td style="display:none" class="ftd"><input type="hidden" value="@data.vendor_po_no" class="po_no" /></td>
                                                <td style="display:none" class="ftd1"><input type="hidden" value="@data.delivery_challan_type" class="DeliveryChallanType" /></td>
                                                <td style="display:none" class="ftd2"><input type="hidden" value="@data.customer_name" class="HdnCstName" /></td>
                                                <td style="display:none" class="ftd"><input type="hidden" value="@data.material_grade" class="material_grade" /></td>
                                                <td style="display:none" class="ftd1"><input type="hidden" value="@data.section" class="section" /></td>
                                                <td style="display:none" class="ftd2"><input type="hidden" value="@data.heat_code" class="heat_code" /></td>
                                                <td style="display:none" class="ftd6"><input type="hidden" value="@ViewBag.dispatch_no1" class="dispatch_number" /></td>

                                                <td>
                                                    @*<a href="@Url.Action("AllDCJobDispatch", "DeliveryChallan")?DispatchNo=@data.dispatch_no" class="" title="Delivery Challan">*@
                                                    @*<a href="javascript:myFunction($(dispatchid1).val())">*@

                                                    @if (@data.type != "vendor")
                                                    {
                                                        <div>
                                                            @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#FCCE54"></span>
                                                                </div>
                                                                <div>
                                                                    <h6 class="mt-0 mb-1 font-weight-normal">@data.delivery_challan_type</h6>

                                                                    @*<div class="media-body text-truncate">
                                                                            <small class="float-right">
                                                                                <a href="#" class="mr-2 ml-2">
                                                                                    <i class="icon-paperclip"></i>
                                                                                </a>
                                                                            </small>

                                                                        </div>*@
                                                                </div>

                                                            }
                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#6c757d"></span>
                                                                </div>
                                                                <div>
                                                                    @*<strong style="color:black">@data.customer_name</strong>*@
                                                                    <h6 class="mt-0 mb-1 font-weight-normal">@data.delivery_challan_type</h6>
                                                                </div>

                                                            }
                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#03a9f4"></span>
                                                                </div>
                                                                <div>
                                                                    <h6 class="mt-0 mb-1 font-weight-normal">@data.delivery_challan_type</h6>
                                                                </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-c avatar-md circle" style="background-color:#7dc855"></span>
                                                                </div>
                                                                <div>
                                                                    <h6 class="mt-0 mb-1 font-weight-normal">@data.delivery_challan_type</h6>
                                                                </div>
                                                            }
                                                            else { }
                                                            @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                if (@data.die_no != "")
                                                                {
                                                                    <small style="color:grey" title="Die No">@data.die_no &nbsp; </small>
                                                                    <small style="color:grey" title="Expected Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                                }

                                                                else
                                                                {
                                                                    <small style="color:grey" title="Part No">@data.Customer_part_no &nbsp; </small>
                                                                    <small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                    <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                                }
                                                            }


                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {

                                                                <small style="color:grey" title="Section">@data.section &nbsp;  </small>
                                                                <small style="color:grey" title="Grade Of Material "> |   &nbsp;  @data.material_grade &nbsp;</small>
                                                                @*<small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>*@
                                                                <small style="color:grey" title="Heat Code"> | &nbsp; @data.heat_code</small>

                                                            }
                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                <small style="color:grey" title="Die No">@data.die_no &nbsp; </small>
                                                                <small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>

                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                <small style="color:grey" title="Die No">@data.die_no &nbsp; </small>
                                                                <small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }

                                                            else { }
                                                        </div>

                                                    }
                                                    else if (@data.type != "customer")
                                                    {
                                                        <div>
                                                            @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#FCCE54"></span>
                                                                </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#6c757d"></span>
                                                                </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#03a9f4"></span>
                                                                </div>
                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                <div class="avatar avatar-md mr-3 mt-1 float-left">

                                                                    <span class="avatar-letter avatar-letter-v avatar-md circle" style="background-color:#7dc855"></span>
                                                                </div>
                                                            }
                                                            else { }
                                                            <div>
                                                                @*<strong style="color:black">@data.vendor_name</strong>*@
                                                                <h6 class="mt-0 mb-1 font-weight-normal">@data.delivery_challan_type</h6>
                                                            </div>
                                                            @if (@data.delivery_challan_type == "Job Dispatch")
                                                            {
                                                                <small style="color:grey" title="Die No">@data.die_no &nbsp;  </small>
                                                                <small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }

                                                            else if (@data.delivery_challan_type == "Lab Testing")
                                                            {
                                                                <small style="color:grey" title="Section">@data.section &nbsp;  </small>
                                                                <small style="color:grey" title="Grade Of Material "> |   &nbsp;  @data.material_grade &nbsp;</small>
                                                                @*<small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>*@
                                                                <small style="color:grey" title="Heat Code"> | &nbsp; @data.heat_code</small>
                                                            }

                                                            else if (@data.delivery_challan_type == "Outsourcing")
                                                            {
                                                                <small style="color:grey" title="Die No">@data.die_no &nbsp;</small>
                                                                <small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>

                                                            }
                                                            else if (@data.delivery_challan_type == "Repair")
                                                            {
                                                                <small style="color:grey" title="Die No">@data.die_no &nbsp;</small>
                                                                <small style="color:grey" title="Created Date"> |   &nbsp; @data.expected_date.ToString("dd-MMM-yyyy") &nbsp;</small>
                                                                <small style="color:grey" title="Dispatch No"> | &nbsp; @data.dispatch_no</small>
                                                            }
                                                            else { }
                                                        </div>

                                                    }
                                                    else
                                                    {
                                                    }
                                                    @*</a>*@

                                                </td>
                                            </tr>

                                        }
                                    </tbody>


                                </table>
                                @*</div>*@
                                @*</div>*@

                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-9 col-sm-12 white">
                    <div class="card no-b mr-2">
                        <div class="card-header white" id="divalltab">
                            <div class="d-flex justify-content-between">

                                <div class="align-self-end float-right">
                                    <ul class="nav nav-tabs card-header-tabs nav-material">
                                        <li class="nav-item">

                                            <a class="nav-link active show" id="w3--tab1" data-toggle="tab" href="#w3-tab1" role="tab" aria-controls="tab1" aria-expanded="true" aria-selected="true">Details</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="w3--tab2" data-toggle="tab" href="#w3-tab2" role="tab" aria-controls="tab2" aria-selected="false" style="display:none">Print</a>

                                        </li>

                                    </ul>
                                </div>
                                <div class="align-self-end float-right">
                                    <input type="hidden" id="hdnChalnDCType" />
                                    <h5>
                                        <span class="r-3 badge badge-primary" style="width:100%;color:white;font-size:90%" id="spnChallanType">

                                            <b id="ChallanType"> </b>


                                        </span>
                                    </h5>
                                </div>
                            </div>

                        </div>

                        <div class="card-body no-p">
                            <div class="tab-content">
                                @*<div class="tab-pane fade show active" id="w3-tab1" role="tabpanel" aria-labelledby="w3-tab1" data-height="600">*@
                                <div class="tab-pane fade show active" id="w3-tab1" role="tabpanel" aria-labelledby="w3-tab1">
                                    @*<div class="card-body  chat-widget p-3">*@
                                    <div class="w-body w-scroll ">
                                        <ul class="list-unstyled">
                                            <li>
                                                @Html.HiddenFor(model => model.dispatch_char, new { @id = "dispatch_char" })
                                                @Html.HiddenFor(model => model.dispatch_id, new { @id = "dispatch_id" })
                                                @* New DC Job Dispatch *@
                                                <div class="container-fluid animatedParent animateOnce" id="divNewDCJobDispatch" style="display:none">
                                                    <div class="">
                                                        <form action="#">
                                                            <div class="card no-b  no-r">
                                                                <div class="card-body">
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            Dispatch No:

                                                                        </div>
                                                                        @Html.HiddenFor(model => model.customer_id, new { @class = "customer_id" })
                                                                        <div class="form-group col-3 m-0">

                                                                            <label id="dispatch_no" class="Label"></label>
                                                                        </div>

                                                                        <div class="form-group col-3 m-0" id="divcustName">
                                                                            Customer Name:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="customer_name"></label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">

                                                                        <div class="form-group col-3 m-0" id="lblCustomerPONo">
                                                                            Customer PO No:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="CustomerPONo"></label>
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            PO Quantity:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="po_qty"></label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            HSN Code:

                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="HSNCode"></label>
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            Customer Part No:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="Customer_part_no"></label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            Part Description:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="partDescription"></label>
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            Dispatch Quantity:

                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <input type="text" class="form-control r-0 light s-12" id="dispatch_qty" />
                                                                            @*<label class="Label" id="dispatch_qty"></label>*@
                                                                        </div>


                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            Mode Of Transport:

                                                                        </div>
                                                                        <div class="form-group col-6 m-0">
                                                                            <div class="custom-control custom-radio custom-control-inline">
                                                                                <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                                                                <label class="custom-control-label m-0 Label" for="ModRoad">Road</label>
                                                                            </div>
                                                                            <div class="custom-control custom-radio custom-control-inline">
                                                                                <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                                                                <label class="custom-control-label m-0 Label" for="ModCourier">Courier</label>
                                                                            </div>
                                                                            <div class="custom-control custom-radio custom-control-inline">
                                                                                <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                                                                <label class="custom-control-label m-0 Label" for="ModHandCarriedBy">By Hand</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">

                                                                        </div>


                                                                    </div>
                                                                    <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                                                        <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                                                            Vehicle No.:

                                                                        </div>
                                                                        <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                                                            <input type="text" class="form-control r-0 light s-12" id="txtvehicleNo" />

                                                                        </div>
                                                                        <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                                                            Courier Tracker Id:

                                                                        </div>
                                                                        <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                                                            <input type="text" class="form-control r-0 light s-12" id="txtcourierTrackerId" />

                                                                        </div>
                                                                        <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                                                            Person Name:

                                                                        </div>
                                                                        <div class="form-group col-3 m-0" id="personName" style="display:none">
                                                                            <input type="text" class="form-control r-0 light s-12" id="txtpersonName" />

                                                                        </div>
                                                                    </div>


                                                                </div>


                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>

                                                @* New DC Lab Testing *@
                                                <div class="container-fluid animatedParent animateOnce" id="divNewDCLabTesting" style="display:none">
                                                    <div class="">
                                                        <form action="#">
                                                            <div class="card no-b  no-r">
                                                                <div class="card-body">
                                                                    <div class="media">
                                                                        <input type="hidden" id="hdnCstId" />
                                                                        <input type="hidden" id="hdnpo_no" />
                                                                        <input type="hidden" id="hdndcRMTestID" />
                                                                        <input type="hidden" id="hdnginid" />
                                                                        <div class="mr-2 float-left">
                                                                            @*<img src="~/NewCssAndTheme/img/DC2.png" class="s-12" style="height:55px;" />*@
                                                                            <i class="icon icon-airport_shuttle text-light-blue s-48"></i>
                                                                        </div>
                                                                        <div class="media-body">

                                                                            <h6 class="mt-0 mb-1 font-weight-normal" id="vendor_name"><label title="Customer Name"></label></h6>



                                                                            <span>

                                                                                <label>Section :</label>  <strong id="lblSection" class="Label" title="Section"></strong> &nbsp;
                                                                                <label>| &nbsp; Grade Of Material :</label>  <strong id="lblGradeOfMaterial" class="Label" title="Grade Of Material"></strong> &nbsp;

                                                                                <br />
                                                                                <label> Dispatch No:</label>  <strong id="dispatch_noLab" class="Label" title="Dispatch No"></strong> &nbsp;
                                                                                <label> | &nbsp;Heat Code :</label> &nbsp;<label id="lblHeatCode" class="Label" title="Heat Code"></label>
                                                                                <label> | &nbsp;PO Number :</label> &nbsp;<label id="lblPONO" class="Label" title="PO Number"></label>
                                                                            </span>

                                                                            <br /><br />
                                                                        </div>


                                                                    </div>
                                                                    @*<div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0" id="divcustName">
                                                                                Vendor Name:
                                                                            </div>
                                                                            <div class="form-group col-8 m-0">

                                                                                <label class="Label" id="vendor_name"></label>
                                                                            </div>

                                                                        </div>*@
                                                                    @*<div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Dispatch No:

                                                                            </div>
                                                                            @Html.HiddenFor(model => model.vendor_id, new { @class = "vendor_id" })
                                                                            <div class="form-group col-8 m-0">
                                                                                <input id="Text_dispatch_noLab" type="text" class="form-control r-0 light s-12" />

                                                                            </div>
                                                                        </div>*@

                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0">
                                                                            Raw Material Test:
                                                                        </div>
                                                                        <div class="form-group col-8 m-0">
                                                                            @*<label id="spn_rmtest" class="Label"></label>*@
                                                                            <select class="select2" name="RawMaterialTest[]" multiple="multiple" id="SelectRMTest">
                                                                                @for (int i = 0; i < Model.ssmtbl_Feasibility_RawMaterialTestModel.Count; i++)
                                                                                {
                                                                                    <option value="@Model.ssmtbl_Feasibility_RawMaterialTestModel[i].Raw_Material_Test_Select" class="form-control r-0 light s-12">

                                                                                        @Model.ssmtbl_Feasibility_RawMaterialTestModel[i].Raw_Material_Test_Text

                                                                                    </option>

                                                                                }

                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0">
                                                                            Expected Report Date:


                                                                        </div>
                                                                        <div class="form-group col-8 m-0">
                                                                            @Html.TextBoxFor(model => model.expected_report_date, "{0:dd/MM/yyyy}", new { @class = "date-time-picker form-control r-0 light s-12", @id = "expected_report_date" })
                                                                            @Html.ValidationMessageFor(model => model.expected_report_date, null, new { @class = "alert-danger" })
                                                                        </div>

                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0">
                                                                            Remark:
                                                                        </div>
                                                                        <div class="form-group col-8 m-0">

                                                                            @Html.TextAreaFor(model => model.remark, new { @class = "form-control r-0 light s-12", @id = "txtRemark" })
                                                                            @Html.ValidationMessageFor(model => model.remark, null, new { @class = "alert-danger" })
                                                                        </div>
                                                                    </div>
                                                                    @*<div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Mode Of Transport:

                                                                            </div>
                                                                            <div class="form-group col-6 m-0">
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                                                                    <label class="custom-control-label m-0" for="ModRoad">Road</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                                                                    <label class="custom-control-label m-0" for="ModCourier">Courier</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                                                                    <label class="custom-control-label m-0" for="ModHandCarriedBy">Hand Carried By</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                            </div>


                                                                        </div>
                                                                        <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                                                            <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                                                                Vehicle No.:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                                                                <input type="text" class="" id="txtvehicleNo" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                                                                Courier Tracker Id:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                                                                <input type="text" class="" id="txtcourierTrackerId" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                                                                Person Name:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="personName" style="display:none">
                                                                                <input type="text" class="" id="txtpersonName" />

                                                                            </div>
                                                                        </div>*@


                                                                </div>

                                                                @*<div class="card-body" id="btnDiv">

                                                                        <div class="form-row mt-1">
                                                                            <div class="col-md-2" id="Download">



                                                                            </div>
                                                                            <div class="form-group col-8 m-0">

                                                                            </div>

                                                                            <div class="form-group col-2 m-0 custom-control-inline">
                                                                                <div id="submitDiv" align="right">
                                                                                    <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                                                                                </div>&nbsp;&nbsp;
                                                                                <div id="loaderDiv" style="display:none;">
                                                                                    <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                                                                </div>



                                                                            </div>
                                                                        </div>

                                                                    </div>*@
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>

                                                @* New DC Outsourcing *@
                                                <div class="container-fluid animatedParent animateOnce" id="divNewDCOutsourcing" style="display:none">
                                                    <div class="">
                                                        <form action="#">
                                                            <div class="card no-b  no-r">
                                                                <div class="card-body">
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            Dispatch No:
                                                                        </div>
                                                                        @Html.HiddenFor(model => model.customer_id, new { @class = "customer_id" })
                                                                        <div class="form-group col-3 m-0">
                                                                            <label id="dispatch_noout" class="Label"></label>
                                                                        </div>
                                                                        <div class="form-group col-3 m-0" id="divcustName">
                                                                            Vendor Name:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="Vendor_nameOut"></label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0" id="lblCustomerPONo">
                                                                            Vendor PO No:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="VendorPONoOut"></label>
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            Die No.:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <label class="Label" id="vpoDieNo"></label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            Process:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            <input type="text" class="form-control r-0 light s-12" id="ProcessOut" />
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            Expected Date:
                                                                        </div>
                                                                        <div class="form-group col-3 m-0">
                                                                            @Html.TextBoxFor(model => model.expected_report_date, "{0:dd-MMM-yyyy}", new { @class = "date-time-picker form-control r-0 light s-12", @id = "expected_report_date" })
                                                                            @Html.ValidationMessageFor(model => model.expected_report_date, null, new { @class = "alert-danger" })
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-3 m-0">
                                                                            Remark:
                                                                        </div>
                                                                        <div class="form-group col-9 m-0">
                                                                            <input type="text" class="form-control r-0 light s-12" id="RemarkOut">
                                                                        </div>
                                                                    </div>
                                                                    @*<div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Mode Of Transport:

                                                                            </div>
                                                                            <div class="form-group col-6 m-0">
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                                                                    <label class="custom-control-label m-0" for="ModRoad">Road</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                                                                    <label class="custom-control-label m-0" for="ModCourier">Courier</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                                                                    <label class="custom-control-label m-0" for="ModHandCarriedBy">Hand Carried By</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                            </div>


                                                                        </div>
                                                                        <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                                                            <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                                                                Vehicle No.:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                                                                <input type="text" class="" id="txtvehicleNo" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                                                                Courier Tracker Id:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                                                                <input type="text" class="" id="txtcourierTrackerId" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                                                                Person Name:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="personName" style="display:none">
                                                                                <input type="text" class="" id="txtpersonName" />

                                                                            </div>
                                                                        </div>*@


                                                                </div>

                                                                @*<div class="card-body" id="btnDiv">

                                                                        <div class="form-row mt-1">
                                                                            <div class="col-md-2" id="Download">



                                                                            </div>
                                                                            <div class="form-group col-8 m-0">

                                                                            </div>

                                                                            <div class="form-group col-2 m-0 custom-control-inline">
                                                                                <div id="submitDiv" align="right">
                                                                                    <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                                                                                </div>&nbsp;&nbsp;
                                                                                <div id="loaderDiv" style="display:none;">
                                                                                    <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                                                                </div>



                                                                            </div>
                                                                        </div>

                                                                    </div>*@
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>

                                                @* New DC Repair *@
                                                <div class="container-fluid animatedParent animateOnce" id="divNewDCRepair" style="display:none">
                                                    <div class="">
                                                        <form action="#">
                                                            <div class="card no-b  no-r">
                                                                <div class="card-body">
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0">
                                                                            Dispatch No:

                                                                        </div>
                                                                        @Html.HiddenFor(model => model.vendor_id, new { @class = "vendor_id" })
                                                                        <div class="form-group col-8 m-0">

                                                                            <label id="dispatch_noRepair" class="Label"></label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0" id="divcustName">
                                                                            Vendor Name:
                                                                        </div>
                                                                        <div class="form-group col-8 m-0">
                                                                            <label class="Label" id="vendor_nameRepair"></label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0">
                                                                            Part Description:

                                                                        </div>

                                                                        <div class="form-group col-8 m-0">


                                                                            <label class="Label" id="partDescriptionRepair"></label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-row mt-1 m-2">
                                                                        <div class="form-group col-4 m-0">
                                                                            Expected Report Date:


                                                                        </div>
                                                                        <div class="form-group col-4 m-0">
                                                                            @Html.TextBoxFor(model => model.expected_report_date, "{0:dd-MMM-yyyy}", new { @class = "date-time-picker form-control r-0 light s-12", id = "expected_report_date" })
                                                                            @Html.ValidationMessageFor(model => model.expected_report_date, null, new { @class = "alert-danger" })
                                                                        </div>
                                                                        <div class="form-group col-4 m-0">


                                                                        </div>
                                                                    </div>

                                                                    @*<div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-4 m-0">
                                                                                Part Description:

                                                                            </div>
                                                                            <div class="form-group col-8 m-0">

                                                                                <label class="Label" id="partDescription"></label>
                                                                            </div>
                                                                        </div>*@
                                                                    @*<div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Dispatch Quantity:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0">
                                                                                <input type="text" class="" id="dispatch_qty" />

                                                                            </div>


                                                                        </div>
                                                                        <div class="form-row mt-1 m-2">
                                                                            <div class="form-group col-3 m-0">
                                                                                Mode Of Transport:

                                                                            </div>
                                                                            <div class="form-group col-6 m-0">
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" name="ModeOfTransport" id="ModRoad" class="custom-control-input" />
                                                                                    <label class="custom-control-label m-0" for="ModRoad">Road</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModCourier" value="Courier" />
                                                                                    <label class="custom-control-label m-0" for="ModCourier">Courier</label>
                                                                                </div>
                                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                                    <input type="radio" class="custom-control-input" name="ModeOfTransport" id="ModHandCarriedBy" value="HandCarriedBy" />
                                                                                    <label class="custom-control-label m-0" for="ModHandCarriedBy">Hand Carried By</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-3 m-0">

                                                                            </div>


                                                                        </div>
                                                                        <div class="form-row mt-1 m-2" id="divModeOfTransport">
                                                                            <div class="form-group col-3 m-0" id="lblvehicleNo" style="display:none">
                                                                                Vehicle No.:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="vehicleNo" style="display:none">
                                                                                <input type="text" class="" id="txtvehicleNo" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblcourierTrackerId" style="display:none">
                                                                                Courier Tracker Id:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" style="display:none" id="courierTrackerId">
                                                                                <input type="text" class="" id="txtcourierTrackerId" />

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="lblpersonName" style="display:none">
                                                                                Person Name:

                                                                            </div>
                                                                            <div class="form-group col-3 m-0" id="personName" style="display:none">
                                                                                <input type="text" class="" id="txtpersonName" />

                                                                            </div>
                                                                        </div>*@


                                                                </div>

                                                                @*<div class="card-body" id="btnDiv">

                                                                        <div class="form-row mt-1">
                                                                            <div class="col-md-2" id="Download">



                                                                            </div>
                                                                            <div class="form-group col-8 m-0">

                                                                            </div>

                                                                            <div class="form-group col-2 m-0 custom-control-inline">
                                                                                <div id="submitDiv" align="right">
                                                                                    <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                                                                                </div>&nbsp;&nbsp;
                                                                                <div id="loaderDiv" style="display:none;">
                                                                                    <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                                                                                </div>



                                                                            </div>
                                                                        </div>

                                                                    </div>*@
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>

                                            </li>
                                        </ul>

                                    </div>

                                    @*</div>*@
                                </div>
                                <div class="tab-pane fade text-center" id="w3-tab2" role="tabpanel">

                                    <div class="page slimScroll" id="printpdf" style="overflow: hidden; width: auto; height: 300px;" aria-labelledby="w3-tab2" data-height="500">

                                        <div class="container">
                                            @*<div class="invoice white shadow">*@
                                            <div id="viewchallan" class="">
                                                <br />
                                                <center>
                                                    <div class="col-sm-12" style="" align="center" id="divprint">
                                                        <div style="border:1px solid; width:100%">
                                                            <table style="color:gray;" align="center">
                                                                <tbody>
                                                                    <tr>
                                                                        <td><img src="../NewCssAndTheme/img/SSMlogoNew.png" height="60" width="60" alt="SSM logo "></td>
                                                                        <td>
                                                                            <center>
                                                                                <font size="4">
                                                                                    <b>Shree Siddheshwari Metal Forging Pvt. Ltd.</b>
                                                                                </font><br>
                                                                                <font size="1">
                                                                                    PLOT NO. 489 &amp; 490, 'J' BLOCK M.I.D.C. BHOSARI, PUNE-411026<br>
                                                                                    PHONE NO. : (020) 27130120 EMAIL: scm@ssmforge.com
                                                                                </font>
                                                                            </center>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>


                                                            <center>

                                                                <u><b><font size="4"> DELIVERY CHALLAN FOR RAW MATERIAL TESTING</font></b></u><br>

                                                            </center>


                                                            <table class="table border-bottom" style="width:100%">
                                                                <tbody>
                                                                    <tr>
                                                                        <td valign="top" style="width:50%">
                                                                            To,<br>
                                                                            <span id="name"></span><br>
                                                                            <span id="address"></span>
                                                                        </td>
                                                                        <td style="width:50%">
                                                                            &nbsp;Date:&nbsp;<span id="spn_date"></span> | Challan No:&nbsp;<span id="spn_challanno"></span><br>

                                                                            &nbsp;Material Grade:&nbsp;<span id="spn_gm"></span> | Section:&nbsp;<span id="spn_section"></span><br>
                                                                            &nbsp;Heat Code:&nbsp;<span id="spn_hc"></span> | Heat Number:&nbsp;<span id="spn_hn"></span><br>
                                                                            &nbsp;Qty:&nbsp;<span id="spn_qtyTonne"></span>&nbsp;Tonne
                                                                            &nbsp; | Mode Of Transport:&nbsp;<span id="spn_mot"></span>/<span id="spn_mott"></span>


                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>


                                                            <table class="table table-bordered m-0" cellspacing="0" style="width:100%">
                                                                <tbody>
                                                                    <tr>

                                                                        <td rowspan="2" align="center" style="padding:0" width="3%">
                                                                            <b>1.</b>
                                                                        </td>
                                                                        <td><b>Chemical&nbsp;Analysis:</b></td>
                                                                        <td colspan="6">
                                                                            <b>
                                                                                No. of Test Pieces :
                                                                            </b>&nbsp;<span id="txt_chemnooftestpcs"></span><br />
                                                                            @*<input type="text" id="txt_chemnooftestpcs" class="form-control r-0 light s-12" placeholder="No. of Test Pieces" />*@
                                                                            @*</td>
                                                                                <td colspan="3">*@
                                                                            <b>
                                                                                No. of Test Pieces (kg) :
                                                                            </b>&nbsp;<span id="txt_chemnooftestpcskg"></span>
                                                                            @*<input type="text" id="txt_chemnooftestpcskg" class="form-control r-0 light s-12" placeholder="No. of Test Pieces (kg)" />*@
                                                                        </td>
                                                                        <td colspan="6">
                                                                            @*<input type="text" id="txt_suppliergrade" class="form-control r-0 light s-12" placeholder="Supplier Grade" />*@
                                                                            <b>Supplier Grade :&nbsp;</b><span id="txt_suppliergrade"></span><br />
                                                                            @*</td>
                                                                                <td colspan="3">*@
                                                                            @*<input type="text" id="txt_heatno" class="form-control r-0 light s-12" placeholder="Challan Number" />*@
                                                                            <b> Challan Number :&nbsp;</b><span id="txt_heatno"></span>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <br />
                                                            <table class="table table-bordered" style="width:100%">
                                                                <tbody>
                                                                    <tr>
                                                                        <td>Parameters:</td>
                                                                        <td>C%</td>
                                                                        <td>Mn%</td>
                                                                        <td>P%</td>
                                                                        <td>S%</td>
                                                                        <td>Si%</td>
                                                                        <td>Al%</td>
                                                                        <td>Cr%</td>
                                                                        <td>Mo%</td>
                                                                        <td>Ni%</td>
                                                                        <td>Cu%</td>
                                                                        <td>V%</td>
                                                                        <td>Pb%</td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Required:</td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="1" id="1a" required="">

                                                                            @*<label class="custom-control-label" for="1"></label>*@
                                                                            @*</div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="2" id="2a" required="">
                                                                            @*<label class="custom-control-label" for="2"></label>*@
                                                                            @*</div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="3" id="3a" required="">
                                                                            @*<label class="custom-control-label" for="3"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="4" id="4a" required="">
                                                                            @*<label class="custom-control-label" for="4"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="5" id="5a" required="">
                                                                            @*<label class="custom-control-label" for="5"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="6" id="6a" required="">
                                                                            @*<label class="custom-control-label" for="6"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="7" id="7a" required="">
                                                                            @*<label class="custom-control-label" for="7"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="8" id="8a" required="">
                                                                            @*<label class="custom-control-label" for="8"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="9" id="9a" required="">
                                                                            @*<label class="custom-control-label" for="9"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox" align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="11" id="11a" required="">
                                                                            @*<label class="custom-control-label" for="11"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            @*<div class="custom-control custom-checkbox " align="right">*@
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="12" id="12a" required="">
                                                                            @*<label class="custom-control-label" for="12"></label>
                                                                                </div>*@
                                                                        </td>
                                                                        <td>
                                                                            <input type="checkbox" class="custom-control-input" name="chk_vendor" value="13" id="13a" required="">
                                                                        </td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <br />
                                                            <table width="100%" class="table-condensed table-bordered">

                                                                <tr>
                                                                    <td rowspan="2" align="center" style="padding:0" width="3%"><b>2.</b></td>
                                                                    <td rowspan="5" align="center" style="min-width:50px"><b>Metallography Analysis</b></td>

                                                                    <td>I</td>
                                                                    <td>Micro</td>
                                                                    <td align="center">
                                                                        <span id="txtmicro"></span>
                                                                    </td>
                                                                    <td>III</td>
                                                                    <td>Inclusion</td>
                                                                    <td align="center">
                                                                        <span id="txtinclusion"></span>
                                                                    </td>

                                                                </tr>
                                                                <tr>

                                                                    <td>II</td>
                                                                    <td>Macro</td>
                                                                    <td align="center">
                                                                        <span id="txtmacro"></span>
                                                                    </td>
                                                                    <td>IV</td>
                                                                    <td>Grainsize</td>
                                                                    <td align="center">
                                                                        <span id="txtgrainsize"></span>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <br />
                                                            <table cellspacing="0" class="table-condensed table-bordered" width="100%">
                                                                <tr>
                                                                    <td rowspan="2" align="center" style="padding:0" width="3%"><b>3.</b></td>
                                                                    <td colspan="3" align="center" style="min-width:50px"><b>Mechanical Analysis</b></td>

                                                                    @*<td colspan="1" style="min-width:50px" align="center"><b>No. of Test Pieces</b></td>*@
                                                                    <td style="min-width:50px">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_mechnoofpcs" placeholder="No. of Test Pieces">*@
                                                                        <b>  No. of Test Pieces :</b> &nbsp;<span id="txt_mechnoofpcs"></span>
                                                                    </td>
                                                                    <td style="min-width:50px">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_mechnoofpcskg" placeholder="No. of Test Pieces (kg)">*@
                                                                        <b> No. of Test Pieces (kg) :</b> &nbsp;<span id="txt_mechnoofpcskg"></span>
                                                                    </td>

                                                                </tr>
                                                                <tr>

                                                                    <td align="right"><b>Specification</b></td>
                                                                    <td style="min-width:50px" align="center"><b>Min.</b></td>
                                                                    <td style="min-width:50px" align="center"><b>Max.</b></td>
                                                                    <td style="min-width:50px" colspan="2" rowspan="8"></td>

                                                                </tr>
                                                                <tr>
                                                                    <td align="center">I</td>
                                                                    <td style="min-width:50px">Impact</td>
                                                                    <td style="min-width:50px" align="center">
                                                                        <span id="txt_minimpact"></span>
                                                                    </td>
                                                                    <td style="min-width:50px" align="center">
                                                                        <span id="txt_maximpact"></span>
                                                                    </td>
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                                <tr>
                                                                    <td align="center">II</td>
                                                                    <td colspan="3" style="min-width:50px">Tensile</td>
                                                                    @*<td style="min-width:50px" align="center"></td>
                                                                        <td style="min-width:50px" align="center"></td>*@
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                                <tr>
                                                                    <td align="right">a</td>
                                                                    <td align="right" style="min-width:50px">UTS</td>
                                                                    <td style="min-width:50px" align="center">
                                                                        <span id="txt_utsmintensile"></span>
                                                                    </td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_utsmaxtensile">*@
                                                                        <span id="txt_utsmaxtensile"></span>
                                                                    </td>
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                                <tr>
                                                                    <td align="right">b</td>
                                                                    <td align="right" style="min-width:50px">YS</td>
                                                                    <td style="min-width:50px" align="center">
                                                                        <span id="txt_ysmintensile"></span>
                                                                    </td>
                                                                    <td style="min-width:50px" align="center">
                                                                        <span id="txt_ysmaxtensile"></span>
                                                                    </td>
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                                <tr>
                                                                    <td align="right">c</td>
                                                                    <td align="right" style="min-width:50px">Reduction</td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_reductionmintensile">*@
                                                                        <span id="txt_reductionmintensile"></span>
                                                                    </td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_reductionmaxtensile">*@
                                                                        <span id="txt_reductionmaxtensile"></span>
                                                                    </td>
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                                <tr>
                                                                    <td align="center">III</td>
                                                                    <td style="min-width:50px">Charpy (at 46<sup>0</sup> C)</td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_mincharpy">*@
                                                                        <span id="txt_mincharpy"></span>
                                                                    </td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_maxcharpy">*@
                                                                        <span id="txt_maxcharpy"></span>
                                                                    </td>
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                                <tr>
                                                                    <td align="center">IV</td>
                                                                    <td style="min-width:50px">Jominy</td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_minjominy">*@
                                                                        <span id="txt_minjominy"></span>
                                                                    </td>
                                                                    <td style="min-width:50px" align="center">
                                                                        @*<input class="form-control r-0 light s-12" type="text" id="txt_maxjominy">*@
                                                                        <span id="txt_maxjominy"></span>
                                                                    </td>
                                                                    @*<td style="min-width:50px"></td>
                                                                        <td style="min-width:50px"></td>*@
                                                                </tr>
                                                            </table>

                                                            <table id="tbl_notes" align="left" class="border-bottom" width="100%">
                                                                <thead>
                                                                    <tr>
                                                                        <td> <b>Notes:&nbsp;Test Pieces should be return to us after testing.</b></td>

                                                                    </tr>
                                                                </thead>

                                                            </table>
                                                            <table width="100%" class="table-bordered">

                                                                <tbody>
                                                                    <tr style="border:0px;">
                                                                        <td align="left" colspan="2">
                                                                            <b> Remark :  </b>@*<input type="text" class="form-control r-0 light s-12" id="txt_remarks">*@
                                                                            &nbsp;<span id="txt_remarks"></span>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td align="left"><br /> <b>Receiver's Signature</b></td>
                                                                        <td align="right">
                                                                            <b>For Shree Siddheshwari Metal Forging Pvt. Ltd.</b><br>
                                                                            <br>
                                                                            <b>Authorised Signatory</b>

                                                                        </td>
                                                                    </tr>

                                                                </tbody>
                                                            </table>
                                                            <p align="right" style="padding-right:0px">
                                                                <b>This document is autogenerated</b>
                                                            </p>
                                                            <div align="right">
                                                                <button class="btn btn-primary btn-sm" type="button" id="btnPrintDC"><i class="icon-print"> &nbsp;Print</i></button>
                                                                @*<button type="button" id="btn_save" class="btn btn-sm btn-primary" onclick="save()">Save</button>*@
                                                            </div>
                                                        </div>
                                                    </div>
                                                </center>

                                            </div>

                                            @*</div>*@

                                        </div>
                                    </div>

                                </div>




                            </div>

                        </div>
                    </div>

                </div>
                <div class="" id="btnDiv">
                    @*<div class="form-group col-10"></div>*@

                    @*<div class="form-group col-6">*@




                    @*<div class="form-group col-11">*@
                    <div id="divPrintView" class="custom-control-inline float-left" style="display:none;">
                        <button type="button" class="btn btn-primary btn-sm" id="btnViewPrint" value="Update"><i class="icon-eye mr-2"></i>View</button>
                    </div>
                    <div id="submitDiv" class="custom-control-inline float-right">
                        <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Save"><i class="icon-save mr-2"></i>Save and Print</button>
                    </div>
                    <div id="loaderDiv" style="display:none;" class="custom-control-inline float-right m-3">
                        <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                    </div>

                    @*</div>*@
                    @*</div>*@

                </div>
                @*<a class="btn btn-sm  btn-primary float-right m-4 footer" id="btnPrintDC" style="display:none;"><i class="icon icon-print"></i> Print</a>*@
                @*<div class="form-group col-10 m-0"></div>
                    <div class="form-group col-2 m-0 float-right">
                        <div id="submitDiv" align="right">
                            <button type="button" class="btn btn-primary btn-sm" id="btnSubmit" value="Update"><i class="icon-save mr-2"></i>Update</button>
                        </div>&nbsp;&nbsp;
                        <div id="loaderDiv" style="display:none;">
                            <img src="~/NewCssAndTheme/img/ajax-loader.gif" />
                        </div>



                    </div>*@

            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="~/Scripts/jquery-1.10.2.js"></script>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>

<script src="~/Content/Validations/JqueryUi.js"></script>

@*<script>
    window.onscroll = function() {myFunction()};

    var header = document.getElementById("myHeader");
    var sticky = header.offsetTop;

    function myFunction() {
      if (window.pageYOffset > sticky) {
        header.classList.add("sticky");
      } else {
        header.classList.remove("sticky");
      }
    }
                </script>*@
<script>
    var $j = jQuery.noConflict(true);
    $j(document).ready(function () {


        $("#divalltab").hide();
        document.body.style.overflow = 'hidden';
        var element = document.getElementById("hdnChalnDCType").value;
        if (element == "") {
            $("#spnChallanType").removeClass("r-3 badge badge-primary");
            $("#btnDiv").hide();
        } else {
            $("#spnChallanType").show();
            $("#btnDiv").show();
        }

        $('[data-toggle="popover"]').popover({
            placement: 'top'
        });
        var Dispatchno = getUrlVars()["DispatchNo"];
        //alert(Dispatchno);
        $("#hdnDispatchNo").val(Dispatchno);

        $(function () {
            $('.date-time-picker').datetimepicker({
                format: 'd/m/Y',
                timepicker: false,

            });
        });
    });
    function getUrlVars() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
            vars[key] = value;
        });
        return vars;
    }
    @*location.href = '@Url.Action("AllDCJobDispatch", "DeliveryChallan")?DispatchNo=' + Dispatchno;*@
</script>
<script>
    $("#btnSubmit").click(function () {


        var cstId = $("#hdnCstId").val();
        var DCNo = $("#dispatch_noLab").text();
        var DCType = $("#ChallanType").text();
        var PONumber = $("#lblPONO").text();
        var expectReportDate = $("#expected_report_date").val();
        var dcid = $("#hdndcRMTestID").val();
        
        var FisRawMaterialTest = [];
        var FisRawMaterialTestName = [];
        var insertRawMaterialTest = document.getElementsByName('RawMaterialTest[]')[0];

        for (i = 0; i < insertRawMaterialTest.length; i++) {
            if (insertRawMaterialTest.options[i].selected) {
                //FisRawMaterialTest.push(insertRawMaterialTest.options[i].value);
                FisRawMaterialTest.push(i);
            }
        }
        var RawMaterialTest = FisRawMaterialTest.toString();
        if (RawMaterialTest == "") {
            alert("Please select Raw Material Test");
            return false;
        }
        var remark = $("#txtRemark").val();
        if (remark == "") {
            alert("Please enter remark");
            return false;
        }
        $.ajax({
            type: "POST",
            url: "../DeliveryChallan/InsertDeliveryChallan",
            data: JSON.stringify({
                cstId, DCNo, DCType, PONumber, expectReportDate, remark, RawMaterialTest, dcid
            }),
            contentType: "application/json;charset=utf-8",
            //dataType: "json",
            success: function (data) {
                alert("Delivery Challan Generated Successfully");
                $("#w3--tab2").show();
                $("#w3--tab2").click();
                $("#btnViewPrint").click();
                @*location.href = '@Url.Action("AllDCJobDispatch", "DeliveryChallan")';*@
            },
            error: function (err) {
                // alert('Error occured');
            }
        })
    });
    $("#btnViewPrint").click(function () {
        $("#btnDiv").hide();

        $("#w3--tab2").show();
        $("#w3--tab2").click();
        clearAllRadios();
        getDCForRMTest();

        $("#btnPrintDC").show();
    });
    $("#w3--tab1").click(function () {
        $("#w3--tab2").hide();
        $("#btnDiv").show();
        $("#btnPrintDC").hide();
    });

</script>
<script>
    function clearAllRadios() {
        $('input[name=chk_vendor]').prop("checked", false);
    }
</script>
<script>
    function getDCForRMTest() {
        var ginid = $("#hdnginid").val();

        $.ajax({
            type: "POST",
            url: "../DCForRMTest/DCRMFetchDatafromDCRMTID",
            // data: params,
            data: JSON.stringify({ GINID: ' ' + ginid + '' }),
            contentType: "application/json;charset=utf-8",
            // dataType: "json",
            success: function (data) {
                $("#name").text(data[0].Name);
                $("#address").text(data[0].Address);
                var dat = jsondateformatconvert(data[0].CreatedDate);

                $("#spn_date").text(dat);

                $("#spn_challanno").text(data[0].challan_no);
                $("#spn_gm").text(data[0].Materialgrade);
                $("#spn_section").text(data[0].XSection);
                $("#spn_hc").text(data[0].heat_code);
                $("#spn_hn").text(data[0].heat_number);

                $("#spn_mot").text(data[0].mode_of_transportation);
                $("#spn_mott").text(data[0].vehicle_no);
                $("#spn_qtyTonne").text(data[0].TotalReceivedQty);
                $("#txt_chemnooftestpcs").text(data[0].ChemicalNoofTestPcs);
                $("#txt_chemnooftestpcskg").text(data[0].ChemicalNoofTestPcsKg);
                $("#txt_suppliergrade").text(data[0].SupplierGrade);
                $("#txt_heatno").text(data[0].HeatNumber);

                $("#txtmicro").text(data[0].Micro);
                $("#txtmacro").text(data[0].Macro);
                $("#txtinclusion").text(data[0].Inclusion);
                $("#txtgrainsize").text(data[0].GrainSize);
                $("#txt_mechnoofpcs").text(data[0].MechanicalNoofTestPcs);
                $("#txt_mechnoofpcskg").text(data[0].MechanicalNoofTestPcsKg);
                $("#txt_minimpact").text(data[0].ImpactMin);
                $("#txt_maximpact").text(data[0].ImpactMax);
                $("#txt_utsmintensile").text(data[0].UtsMin);
                $("#txt_utsmaxtensile").text(data[0].UtsMax);
                $("#txt_ysmintensile").text(data[0].YSMin);
                $("#txt_ysmaxtensile").text(data[0].YSMax);
                $("#txt_reductionmintensile").text(data[0].ReductionMin);
                $("#txt_reductionmaxtensile").text(data[0].ReductionMax);
                $("#txt_mincharpy").text(data[0].CharpyMin);
                $("#txt_maxcharpy").text(data[0].CharpyMax);
                $("#txt_minjominy").text(data[0].JominyMin);
                $("#txt_maxjominy").text(data[0].JominyMax);
                $("#txt_remarks").text(data[0].Remarks);


                var str = (data[0].ChemicalParameter);
                var res = str.split(",");
                for (var i = 0; i < res.length - 1 ; i++) {
                    var radiobtn = document.getElementById((res[i]+'a').toString());
                    radiobtn.className = "icon-check";
                }
            },
            error: function (err) {
                alert('Error occured');

            }
        });
    }
    $("#btnPrintDC").click(function () {
        $("#btnPrintDC").hide();
        var dispatchNo = $('#dispatch_no').text();
        printDeliveryC('divprint');
    });

    function printDeliveryC(divprint) {

        var divElements = document.getElementById('divprint').innerHTML;
        var oldPage = document.body.innerHTML;
        document.body.innerHTML =
          "<html><head><title></title></head><body>" +
          divElements + "</body>";
        window.print();
        document.body.innerHTML = oldPage;

    }



</script>
<script>
    $j('#ModRoad').click(function () {
        $j('#lblvehicleNo').show();
        $j('#vehicleNo').show();
        $j('#lblcourierTrackerId').hide();
        $j('#courierTrackerId').hide();
        $j('#lblpersonName').hide();
        $j('#personName').hide();
    });
    $j('#ModCourier').click(function () {
        $('#lblvehicleNo').hide();
        $('#vehicleNo').hide();
        $('#lblcourierTrackerId').show();
        $('#courierTrackerId').show();
        $('#lblpersonName').hide();
        $('#personName').hide();
    });
    $j('#ModHandCarriedBy').click(function () {
        $('#lblvehicleNo').hide();
        $('#vehicleNo').hide();
        $('#lblcourierTrackerId').hide();
        $('#courierTrackerId').hide();
        $('#lblpersonName').show();
        $('#personName').show();
    });
</script>
<script type="text/javascript">
    $j(".trDelivery").click(function () {

        $(this).addClass("p-3 b-b light border-left border-primary");
        $(this).siblings().removeClass("p-3 b-b light border-left border-primary");
        $("#divalltab").show();
        $("#btnDiv").show();
        $("#w3--tab1").click();
        $("#w3--tab2").hide();
        $("#btnPrintDC").hide();
        var RMTestID = $(this).closest("tr").find("td .dcRMTestID").val();
     
        var DeliveryChallanType = $(this).closest("tr").find("td .DeliveryChallanType").val();
        var CstName = $(this).closest("tr").find("td .HdnCstName").val();
        var Section = $(this).closest("tr").find("td .section").val();
        var material_grade = $(this).closest("tr").find("td .material_grade").val();
        var heat_code = $(this).closest("tr").find("td .heat_code").val();
        var dispatch_no = $(this).closest("tr").find("td .dispatch_number").val();
        var cstID = $(this).closest("tr").find("td .customerid").val();
        var poNumber = $(this).closest("tr").find("td .po_no").val();
        var ginid = $(this).closest("tr").find("td .dispatchid1").val();
        $("#hdnginid").val(ginid);

        if (DeliveryChallanType == "Lab Testing") {
            $("#txtRemark").val("");
            //$("#SelectRMTest option:selected").removeAttr("selected");

            $('#SelectRMTest').val('').trigger("change");
            var element = document.getElementById("spnChallanType");
            element.className = "r-3 badge badge-secondary";
            $("#ChallanType").text("Lab Testing");
            $("#hdnCstId").val(cstID);
            $("#hdndcRMTestID").val(RMTestID);
            $("#lblSection").text(Section);
            $("#lblGradeOfMaterial").text(material_grade);
            $("#lblPONO").text(poNumber);
            $("#lblHeatCode").text(heat_code);
            $("#dispatch_noLab").text(dispatch_no);
            $("#divNewDCJobDispatch").hide();
            $("#divNewDCLabTesting").show();
            $("#divNewDCRepair").hide();
            $("#divNewDCOutsourcing").hide();
            $("#vendor_name").text(CstName);
            //  getrmtest(dispatchId, DeliveryChallanType);
        } else if (data.delivery_challan_type == "") {
            var element = document.getElementById("spnChallanType");
            element.className = "";
            $("#btnSubmit").show();

        }
        //$("#challenprint").hide();
        //$("#divNewDCJobDispatch").show();
        //var dispatchId = $(this).closest("tr").find("td .dispatchid1").val();
        //var DeliveryChallanType = $(this).closest("tr").find("td .DeliveryChallanType").val();
        //$.ajax
        //                          ({
        //                              type: "POST",
        //                              url: "../DeliveryChallan/GetOneDelivery",
        //                              data: JSON.stringify({
        //                                  DispatchId: ' ' + dispatchId + '', DeliveryChallanType: ' ' + DeliveryChallanType + ''
        //                              }),
        //                              contentType: "application/json;charset=utf-8",
        //                              //dataType: "json",
        //                              success: function (data) {
        //                                  //document.getElementById('dispatch_qty').style.border = 'black';
        //                                  $j('#dispatch_no').text(data.dispatch_no);
        //                                  $j('#dispatch_noLab').text(data.dispatch_no);
        //                                  $j('#dispatch_noout').text(data.dispatch_no);
        //                                  $j('#dispatch_noRepair').text(data.dispatch_no);
        //                                  $j('#spn_challanno').text(data.dispatch_no);
        //                                  $j('#spn_date1').text(jsondateformatconvert(data.CreatedOn));
        //                                  $j('#spn_date2').text(jsondateformatconvert(data.UpdatedOn));
        //                                  if (data.customer_id != 0) {
        //                                      $j('#divcustName').text("Customer Name:");
        //                                      $j('#lblCustomerPONo').text("Customer PO No:");
        //                                      $j('#customer_name').text(data.customer_name);
        //                                      $j('#customer_id').text(data.customer_id);
        //                                      $j('#CustomerPONo').text(data.CustomerPONo);
        //                                      $j('#spn_custname').text(data.customer_name);
        //                                  } else {
        //                                      $j('#customer_name').text(data.vendor_name);
        //                                      $j('#vendor_nameRepair').text(data.vendor_name);
        //                                      $j('#vendor_nameOut').text(data.vendor_name);
        //                                      $j('#divcustName').text("Vendor Name:");
        //                                      $j('#lblCustomerPONo').text("Vendor PO No:");
        //                                      $j('#CustomerPONo').text(data.vendor_po_no);
        //                                      $j('#spn_custname').text(data.vendor_name);
        //                                  }
        //                                  $j('#ChallanType').text(data.delivery_challan_type);
        //                                  $j('#hdnChalnDCType').text(data.delivery_challan_type);
        //                                  if (data.delivery_challan_type == "Repair") {
        //                                      var element = document.getElementById("spnChallanType");
        //                                      element.className = "r-3 badge badge-success";
        //                                      $("#divNewDCJobDispatch").hide();
        //                                      $("#divNewDCLabTesting").hide();
        //                                      $("#divNewDCRepair").show();
        //                                      $("#divNewDCOutsourcing").hide();
        //                                      $j('#partDescriptionRepair').text(data.part_description);

        //                                  }
        //                                  else if (data.delivery_challan_type == "Job Dispatch") {
        //                                      var element = document.getElementById("spnChallanType");
        //                                      element.className = "r-3 badge badge-warning";
        //                                      $("#divNewDCJobDispatch").show();
        //                                      $("#divNewDCLabTesting").hide();
        //                                      $("#divNewDCRepair").hide();
        //                                      $("#divNewDCOutsourcing").hide();
        //                                  }
        //                                  else if (data.delivery_challan_type == "Outsourcing") {
        //                                      var element = document.getElementById("spnChallanType");
        //                                      element.className = "r-3 badge badge-primary";
        //                                      $("#divNewDCJobDispatch").hide();
        //                                      $("#divNewDCLabTesting").hide();
        //                                      $("#divNewDCRepair").hide();
        //                                      $("#divNewDCOutsourcing").show();
        //                                      $j('#VendorPONoOut').text(data.vendor_po_no);
        //                                      $j('#Vendor_nameOut').text(data.vendor_name);
        //                                  }
        //                                  else if (data.delivery_challan_type == "Lab Testing") {
        //                                      var element = document.getElementById("spnChallanType");
        //                                      element.className = "r-3 badge badge-secondary";
        //                                      $("#divNewDCJobDispatch").hide();
        //                                      $("#divNewDCLabTesting").show();
        //                                      $("#divNewDCRepair").hide();
        //                                      $("#divNewDCOutsourcing").hide();
        //                                      getrmtest(dispatchId, DeliveryChallanType);
        //                                  } else if (data.delivery_challan_type == "") {
        //                                      var element = document.getElementById("spnChallanType");
        //                                      element.className = "";
        //                                      $("#btnSubmit").hide();

        //                                  }

        //                                  $j('#vendor_id').text(data.vendor_id);
        //                                  $j('#vendor_name').text(data.vendor_name);

        //                                  $j('#po_qty').text(data.po_qty);
        //                                  $j('#HSNCode').text(data.HSNCode);
        //                                  $j('#Customer_part_no').text(data.Customer_part_no);
        //                                  $j('#partDescription').text(data.part_description);


        //                                  getDeliveryDetails(data.dispatch_no);
        //                              },
        //                              error: function (err) {
        //                                  // alert('Error occured');
        //                              }
        //                          });

    });

    $j("#WOM").autocomplete({
        source: function (request, response) {
            var customer = new Array();
            var po_no = $j('#CustomerPONo').val();
            $j.ajax({
                url: "../DeliveryChallan/getWoNo",
                type: "POST",
                dataType: "json",
                data: { Prefix: request.term, pono: po_no },
                success: function (data) {
                    response($j.map(data, function (item) {
                        return {
                            label: item.Text,
                            Id: item.Value
                        }
                    }));
                }
            });
        },
        minLength: 1,
        select: function (event, ui) {
            $(this).val(ui.item.Id);
            $j.ajax({
                url: "../DeliveryChallan/getWoNoDetails",
                type: "POST",
                dataType: "json",
                data: { Wono: ui.item.label },
                success: function (data) {
                    //console.log(data);
                    $j('#WOM').val(data.Wono);
                    $j('#MaterialGradeM').val(data.Rawmaterial);
                    $j('#SectionM').val(data.section);
                    $j('#CutWeightM').val(data.cutweight);
                    $j('#WOBalanceM').val(0);
                    $j('#QtyM').focus();
                }
            });
        }
    });

</script>
<script>

    $(".trDelivery").click(function () {

        window.scrollBy(0, 50); //for scroll top
        window.scrollBy(0, -50); //for scroll down
    });
</script>
<script>
    function getrmtest(dispatchId, DeliveryChallanType) {
        $j.ajax({
            url: "../DeliveryChallan/Getfisrmtest",
            type: "POST",
            dataType: "json",
            data: { dispatchId: dispatchId, DeliveryChallanType: DeliveryChallanType },
            success: function (data) {
                $("#tbodyDCItems").empty();

                var append = new Array();
                for (var i = 0; i < data.length; i++) {

                    append.push(data[i].type);
                }
                $j("#spn_rmtest").text(append);
                //alert(append);
            }
        });
    }
    function getDeliveryDetails(dispatchNo) {
        $j.ajax({
            url: "../DeliveryChallan/GetOneDeliveryDetails",
            type: "POST",
            dataType: "json",
            data: { dispatchNo: dispatchNo },
            success: function (data) {
                $("#tbodyDCItems").empty();

                var srno = 1;
                //Append each row to html table
                for (var i = 0; i < data.length; i++) {

                    tr = $('<tr />');
                    tr.append("<td align='right'>" + srno + "</td>");
                    tr.append("<td>" + data[i].description + "</td>");
                    tr.append("<td align='right'>" + data[i].qty + "</td>");
                    $('#tblDCItems').append(tr);
                    srno++;
                }

            }
        });
    }
</script>
<script>
    function jsondateformatconvert(jsondate) {
        var MyDate_String_Value = jsondate;
        var value = new Date
        (
        parseInt(MyDate_String_Value.replace(/(^.*\()|([+-].*$)/g, ''))
        );
        var date = value.getDate();
        if (date < 10) {
            date = "0" + date;
        } else {
            date = date;
        }
        var month = value.getMonth() + 1;
        if (month < 10) {
            month = "0" + month;
        } else {
            month = month;
        }
        var year = value.getFullYear();
        var dat = date + "-" + month + "-" + year;
        return dat;
    }
    function search() {
        $("#txt_search").show();

    }
</script>
@*</div>
    </div>*@
