<!DOCTYPE html>
<html lang="en">
<head>
    <!-- META SECTION -->
    <title>SSM-RawMaterial</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon" href="~/ProjectImages/elogo.ico" type="image/x-icon" />
    <!-- END META SECTION -->
    <!-- CSS INCLUDE -->
    <link rel="stylesheet" type="text/css" id="theme" href="~/NewCssAndTheme/css/theme-default.css" />

</head>
<body>
</body>
</html>
@model XRP.Models.Paged_ssmtbl_RawMaterialModel
@using XRP.Global;
@{
    ViewBag.Title = "RawMaterial";
    ViewBag.Active = "Marketing";
    //Layout = "~/Views/Shared/_NewLayout.cshtml";
    Layout = null;
}


@using (Html.BeginForm("Rawmaterial", "RMInventory", FormMethod.Get, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)


    <fieldset>

        <!-- PAGE TITLE -->
        <div class="page-title">
            <h2><span class="fa fa-arrow-circle-o-left"></span>RawMaterial</h2>
        </div>

        <div class="row">
            <div class="col-md-12">
                <!-- START DEFAULT DATATABLE -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">RawMaterial</h3>

                    </div>
                    <div class="panel-body panel-body-table">
                        <div class="table-responsive">
                            <table class="table datatable" id="tbl_rminv">
                                <thead>
                                    <tr>
                                        <th>Workorder No </th>
                                        <th>HeatCode </th>
                                        <th>RM</th>
                                        <th>Section</th>                                       
                                        <th>Allocated Qty</th>
                                        <th>Balanced Qty</th>  
                                                                           
                                    </tr>
                                </thead>
                                <tfoot>
                                    <tr>
                                        <th colspan="4" style="text-align:right">Total:<br />Challan Qty:</th>
                                        <th style="text-align:center"></th> 
                                        <th></th>                                       
                                    </tr>
                                
                                </tfoot>
                                <tbody>
                                    @foreach (var data in Model.ssmtbl_RawMaterialModel)
                                    {
                                        <tr>
                                            <td>@data.WorkorderNo</td>
                                            <td>@data.Heatcode</td>
                                            <td>@data.PoRM</td>
                                            <td>@data.PoSection</td>
                                            <td align="center">@data.AllocatedRMQty</td>
                                            <td align="center">@data.BalancedRMQty</td>  
                                                                                                             
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </fieldset>

    <script src="~/Scripts/jquery-2.1.4.min.js"></script>

    <link href="~/Content/themes/base/all.css" rel="stylesheet" />

    <script type="text/javascript" src="~/Scripts/jquery-1.10.2.js"></script>

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/date.format.js" type="text/javascript"></script>
    <script src="~/Content/Validations/JqueryUi.js"></script>
    <link href="~/NewCssAndTheme/css/datatables.min.css" rel="stylesheet" />
    <script src="~/Scripts/datatables.min.js"></script>
   
    <script type="text/javascript">
        $(document).ready(function () {
            var quantity = getUrlVars()["quantity"];           
            $('#tbl_rminv').DataTable({
                "footerCallback": function (row, data, start, end, display) {
                    var api = this.api(), data;
                    // Remove the formatting to get integer data for summation
                    var intVal = function (i) {
                        return typeof i === 'string' ?
                            i.replace(/[\$,]/g, '') * 1 :
                            typeof i === 'number' ?
                            i : 0;
                    };                   
                
                    // Total over this page
                    pageTotal = api
                        .column(4, { page: 'current' })
                        .data()
                        .reduce(function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0);

                    // Update footer                   
                    $(api.column(4).footer()).html(
                         pageTotal + "</br> " + quantity
                   );
                }

            });
           
            function getUrlVars() {
                var vars = {};
                var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                    vars[key] = value;
                });
                return vars;
            }
        });
    </script>
}